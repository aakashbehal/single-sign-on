(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[11],{272:function(e,n,t){e.exports={movement_group:"User_movement_group__hN-zZ",button_center:"User_button_center__jLzXE",search_input:"User_search_input__1yonV",search:"User_search__kQVRZ",advanceSearch:"User_advanceSearch__28VFr",my_document_search:"User_my_document_search__3qvbe",collapse_summary:"User_collapse_summary__2ZBSi",advance_search:"User_advance_search__3O2qV",required_documents:"User_required_documents__1ToGB"}},347:function(e,n,t){"use strict";t.r(n);var a=t(7),c=t.n(a),o=t(12),i=t(14),r=t(1),s=t(251),l=t(170),u=t(253),f=t(168),d=t(21),j=t(36),C=t(272),O=t.n(C),b=t(4),m=t(17),g=function(e){return function(n){n({type:b.j.CONJUNCTION_REQUEST}),m.d.getConfig({orgType:e.orgType,fileNameConfig:"SEPARATOR"}).then((function(e){n(function(e){return{type:b.j.CONJUNCTION_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.j.CONJUNCTION_FAILURE,payload:e}}(e))}))}},p=function(e){return function(n){n({type:b.x.FIELD_OPTIONS_REQUEST}),m.d.getConfig({orgType:e.orgType,fileNameConfig:"FIELD"}).then((function(e){n(function(e){return{type:b.x.FIELD_OPTIONS_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.x.FIELD_OPTIONS_FAILURE,payload:e}}(e))}))}},h=function(e){return function(n){n({type:b.K.RETENTION_POLICY_REQUEST}),m.d.getConfig({orgType:e.orgType,fileNameConfig:"RETENTION_POLICY"}).then((function(e){n(function(e){return{type:b.K.RETENTION_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.K.RETENTION_POLICY_FAILURE,payload:e}}(e))}))}},_=function(e){return function(n){n({type:b.r.DOCUMENT_POLICY_REQUEST}),m.d.getConfig({orgType:e.orgType,fileNameConfig:"DOCUMENT_POLICY"}).then((function(e){n(function(e){return{type:b.r.DOCUMENT_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.r.DOCUMENT_POLICY_FAILURE,payload:e}}(e))}))}},y=function(e){return function(n){n({type:b.V.USER_FILE_NAMING_CONFIG_REQUEST}),m.d.getUserConfig({orgType:e.orgType,fileNameConfig:"FIELD"}).then((function(e){n(function(e){return{type:b.V.USER_FILE_NAMING_CONFIG_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.V.USER_FILE_NAMING_CONFIG_FAILURE,payload:e}}(e))}))}},S=function(e){return function(n){n({type:b.W.USER_RETENTION_POLICY_REQUEST}),m.d.getUserConfig({orgType:e.orgType,fileNameConfig:"RETENTION_POLICY"}).then((function(e){n(function(e){return{type:b.W.USER_RETENTION_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.W.USER_RETENTION_POLICY_FAILURE,payload:e}}(e))}))}},E=function(e){return function(n){n({type:b.X.USER_SEPARATOR_REQUEST}),m.d.getUserConfig({orgType:e.orgType,fileNameConfig:"SEPARATOR"}).then((function(e){n(function(e){return{type:b.X.USER_SEPARATOR_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.X.USER_SEPARATOR_FAILURE,payload:e}}(e))}))}},T=function(e){return function(n){n({type:b.U.USER_DOCUMENT_POLICY_REQUEST}),m.d.getUserConfig({orgType:e.orgType,fileNameConfig:"DOCUMENT_POLICY"}).then((function(e){n(function(e){return{type:b.U.USER_DOCUMENT_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.U.USER_DOCUMENT_POLICY_FAILURE,payload:e}}(e))}))}},N=function(e){return function(n){n({type:b.P.SAVE_USER_CONFIG_REQUEST}),m.d.saveUserConfiguration(e).then((function(e){n(function(e){return{type:b.P.SAVE_USER_CONFIG_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:b.P.SAVE_USER_CONFIG_FAILURE,payload:e}}(e))})).finally((function(){return n({type:b.P.SAVE_USER_CONFIG_RESET})}))}},x=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(r.useRef)(document.title);Object(r.useEffect)((function(){document.title=e}),[e]),Object(r.useEffect)((function(){return function(){n||(document.title=t.current)}}),[])},v=t(32),U=t(131),R=t(40),I=t(2);n.default=function(){var e=["CAN","DT","PC"],n=["CIDSC","DT","CAN","PC"],t=Object(v.useToasts)().addToast;x("Document General Configuration");var a=Object(d.b)(),C=Object(r.useRef)(),b=Object(r.useRef)(),P=Object(r.useRef)(),L=Object(r.useRef)(),D=Object(r.useRef)(),F=Object(r.useState)("KBF"),A=Object(i.a)(F,2),k=A[0],V=A[1],w=Object(r.useState)([]),G=Object(i.a)(w,2),Y=G[0],M=G[1],q=Object(r.useState)(null),Q=Object(i.a)(q,2),K=Q[0],B=Q[1],J=Object(r.useState)({}),X=Object(i.a)(J,2),z=X[0],W=X[1],Z=Object(r.useState)(!1),H=Object(i.a)(Z,2),$=H[0],ee=H[1],ne=Object(r.useState)([{keycode:"KBF",keyvalue:"Keep Both Files"},{keycode:"RE",keyvalue:"Replace Existing"}]),te=Object(i.a)(ne,2),ae=te[0],ce=(te[1],Object(r.useState)(60)),oe=Object(i.a)(ce,2),ie=oe[0],re=oe[1],se=Object(d.c)((function(e){return{dataConjunction:e.fileNameConfig.conjunction.data,isLoading:e.fileNameConfig.conjunction.loading,dataFieldOptions:e.fileNameConfig.fieldOptions.data,dataFileNamingConfig:e.fileNameConfig.fileNamingConfig.data,dataUserRetentionPolicy:e.fileNameConfig.userRetentionPolicy.data,isLoadingRetention:e.fileNameConfig.userRetentionPolicy.loading,dataUserConjunction:e.fileNameConfig.userConjunction.data,dataUserDocumentPolicy:e.fileNameConfig.userDocumentPolicy.data,isLoadingDocumentPolicy:e.fileNameConfig.userDocumentPolicy.loading,dataRetentionPolicy:e.fileNameConfig.retentionPolicy.data,dataDocumentPolicy:e.fileNameConfig.documentPolicy.data,saveLoading:e.fileNameConfig.saveConfig.loading,saveSuccess:e.fileNameConfig.saveConfig.success,saveError:e.fileNameConfig.saveConfig.error}})),le=se.dataConjunction,ue=se.isLoading,fe=se.dataFieldOptions,de=se.dataFileNamingConfig,je=se.dataUserRetentionPolicy,Ce=se.isLoadingRetention,Oe=se.dataUserConjunction,be=se.dataRetentionPolicy,me=(se.dataDocumentPolicy,se.dataUserDocumentPolicy),ge=se.isLoadingDocumentPolicy,pe=(se.saveLoading,se.saveSuccess),he=se.saveError;Object(r.useEffect)((function(){je&&re(je?je.configValSelectedCode:be.defaultValue),me&&V(me?me.configValSelectedCode:"KBF")}),[je,me]),Object(r.useEffect)((function(){var e=m.k.getUser();B(e.recordSource);var n={};n="Client"===e.recordSource||"Equabli"===e.recordSource?{1:"CAN",2:"DT",3:"PC",4:null,5:null,6:null}:{1:"CIDSC",2:"DT",3:"CAN",4:"PC",5:null,6:null,7:null},W(n),a(y({orgType:"CT"})),a(p({orgType:"CT"})),a(g({orgType:"CT"})),a(_({orgType:"CT"})),a(h({orgType:"CT"})),a(S({orgType:"CT"})),a(E({orgType:"CT"})),a(T({orgType:"CT"}))}),[]),Object(r.useEffect)((function(){fe.length>0&&_e()}),[fe,de]),Object(r.useEffect)((function(){pe&&t(Object(U.a)("","FILE_NAME_CONFIGURATION_SAVED_SUCCESS",""),{appearance:"success",autoDismiss:!0}),he&&t(Object(U.a)("error","User Configuration","Save"),{appearance:"error",autoDismiss:!1})}),[pe,he]);var _e=function(){var e=Object(o.a)(c.a.mark((function e(){var n,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.d.handleDefaultAndSavedSelection(fe,de,K,z);case 2:n=e.sent,t=n.fieldFinal,a=n.selectionFinal,M(t),W(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(o.a)(c.a.mark((function e(n,t){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.assign({},z),o=null,"down"===t?(o=a[n],a[n]=a[n+1],a[n+1]=o):(o=a[n],a[n]=a[n-1],a[n-1]=o),W(a);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Se=function(e,n){e.preventDefault();var t=[];if("config"===n){var c=C.current,o=c.conjunction,i=c.field_1,r=c.field_2,s=c.field_3,l=c.field_4,u=c.field_5,f=c.field_6;t.push({configShortCode:"SEPARATOR",configValShortCode:o.value,orgTypeCode:"CT"}),i.value&&t.push({configShortCode:"field1",configValShortCode:i.value,orgTypeCode:"CT"}),r.value&&t.push({configShortCode:"field2",configValShortCode:r.value,orgTypeCode:"CT"}),s.value&&t.push({configShortCode:"field3",configValShortCode:s.value,orgTypeCode:"CT"}),l.value&&t.push({configShortCode:"field4",configValShortCode:l.value,orgTypeCode:"CT"}),u.value&&t.push({configShortCode:"field5",configValShortCode:u.value,orgTypeCode:"CT"}),f.value&&t.push({configShortCode:"field6",configValShortCode:f.value,orgTypeCode:"CT"})}else if("retention"===n){if(Number(ie)<60||Number(ie)>365)return void ee(!0);ee(!1),t.push({configShortCode:"RP",configValShortCode:ie,orgTypeCode:"CT"})}else"mode"===n&&t.push({configShortCode:"DP",configValShortCode:k,orgTypeCode:"CT"});a(N(t))},Ee=function(){var e=Object(o.a)(c.a.mark((function e(n,t){var a,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"config"===t?(a={},a="Client"===K||"Equabli"===K?{1:"CAN",2:"DT",3:"PC",4:null,5:null,6:null}:{1:"CIDSC",2:"DT",3:"CAN",4:"PC",5:null,6:null,7:null},C.current.conjunction.value="_",W(a),i=Object.values(a),r=Y.map((function(e){return-1===i.indexOf(e.shortCode)&&(e.selected=!1,e.available=!0),e})),M(r),setTimeout(Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.current.click();case 1:case"end":return e.stop()}}),e)}))),100)):"retention"===t?(re(60),setTimeout((function(){L.current.click()}),0)):"mode"===t&&(V("KBF"),setTimeout((function(){D.current.click()}),0));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Te=function(t){console.log(n,t);var a=!1;return"Client"!==K&&"Equabli"!==K||-1===e.indexOf(t)?-1!==n.indexOf(t)&&(a=!0):a=!0,a};return Object(I.jsxs)(I.Fragment,{children:[ue&&Object(I.jsx)(R.d,{className:"spinner",size:50}),!ue&&Object(I.jsxs)(s.a,{style:{margin:0},className:"form_container",children:[Object(I.jsx)(l.a,{lg:3,sm:12}),Object(I.jsxs)(l.a,{lg:6,sm:12,children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{sm:12,children:Object(I.jsx)("h5",{style:{marginLeft:"1rem"},children:"File Name Configuration"})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(u.a,{ref:C,onSubmit:function(e){return Se(e,"config")},children:["{}"!==JSON.stringify(Oe)&&Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{lg:12,md:12,className:"no_padding",children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-5",children:[Object(I.jsx)(l.a,{md:12,sm:12,children:Object(I.jsx)(u.a.Control,{as:"select",name:"conjunction",defaultValue:Oe?Oe.configValSelectedCode:le.defaultValue,className:"select_custom",children:le&&le.configVals&&le.configVals.length>0&&le.configVals.map((function(e,n){return Object(I.jsx)("option",{value:e.shortCode,children:e.fieldValue},"cr_".concat(n))}))})}),Object(I.jsx)(u.a.Label,{className:"label_custom",children:"Conjunction / Concatenation Parameter"})]})})}),z&&Object.keys(z).map((function(e,n){return Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{lg:12,md:12,className:"no_padding",children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-5",children:[Object(I.jsx)(l.a,{md:12,sm:12,children:Object(I.jsxs)(u.a.Control,{as:"select",name:"field_".concat(n+1),className:"select_custom",disabled:Te(z[e]),onChange:function(e){return function(e,n){var t=Object.assign({},z);t[e]=n;var a=Object.values(t),c=Y.map((function(c){return n===c.shortCode&&(c.available=!1),n||t[e]!==c.shortCode||(c.available=!0),-1===a.indexOf(c.shortCode)&&(c.selected=!1,c.available=!0),c}));M(c),W(t)}(n+1,e.target.value)},value:z[e]||"",children:[!z[Number(e)+1]&&Object(I.jsx)("option",{}),Y&&Y.length>0&&Y.map((function(e,n){return Object(I.jsx)("option",{disabled:!e.available,value:e.shortCode,children:e.fieldValue},"cr_".concat(n))}))]})}),Object(I.jsxs)(u.a.Label,{className:"label_custom",children:["Field ",n+1," "]}),Object(I.jsxs)("div",{className:O.a.movement_group,children:[0!==n&&z[e]&&Object(I.jsx)(j.b,{onClick:function(){return ye(n+1,"up")}}),n!==Object.keys(z).length-1&&z[e]&&z[Number(e)+1]&&Object(I.jsx)(j.a,{onClick:function(){return ye(n+1,"down")}})]})]})})},"options_".concat(n))})),Object(I.jsxs)(l.a,{sm:12,children:[Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:P,type:"submit",children:"Save"})," ",Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return Ee(e,"config")},children:"Reset to Default"})]})]})]}),Object(I.jsx)(l.a,{lg:3,sm:12})]}),Object(I.jsx)("br",{}),("Client"===K||"Equabli"===K)&&Object(I.jsxs)(I.Fragment,{children:[!Ce&&Object(I.jsxs)(s.a,{style:{margin:0},className:"form_container",children:[Object(I.jsx)(l.a,{lg:3,sm:12}),Object(I.jsxs)(l.a,{lg:6,sm:12,children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{sm:12,children:Object(I.jsx)("h5",{style:{marginLeft:"1rem"},children:"Document Retention Policy"})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{ref:b,onSubmit:function(e){return Se(e,"retention")},children:Object(I.jsxs)(s.a,{children:[Object(I.jsx)(l.a,{lg:12,md:12,children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-4",children:[Object(I.jsxs)(s.a,{children:[Object(I.jsx)(l.a,{md:11,sm:11,children:Object(I.jsx)(u.a.Control,{className:"select_custom",type:"number",name:"retention_policy",onChange:function(e){re(e.target.value)},value:ie})}),Object(I.jsx)(l.a,{md:1,style:{display:"flex",alignItems:"center"},children:Object(I.jsx)("p",{style:{margin:0},children:"Days"})}),Object(I.jsx)("span",{style:{color:"red",marginLeft:"1rem"},children:Object(I.jsx)("small",{children:$?"Retention Policy Should be between 60 to 365 days":""})})]}),Object(I.jsx)(u.a.Label,{className:"label_custom",style:{left:"10px"},children:"Retain document after closure of account till"})]})}),Object(I.jsxs)(l.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:L,type:"submit",children:"Save"})," ",Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return Ee(e,"retention")},children:"Reset to Default"})]})]})})]}),Object(I.jsx)(l.a,{lg:3,sm:12})]}),Object(I.jsx)("br",{}),!ge&&Object(I.jsxs)(s.a,{style:{margin:0},className:"form_container",children:[Object(I.jsx)(l.a,{lg:3,sm:12}),Object(I.jsxs)(l.a,{lg:6,sm:12,children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{sm:12,children:Object(I.jsx)("h5",{style:{marginLeft:"1rem"},children:"Other Configuration"})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{onSubmit:function(e){return Se(e,"mode")},children:Object(I.jsxs)(s.a,{children:[Object(I.jsx)(l.a,{lg:12,md:6,children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-4",children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{md:12,sm:12,children:ae&&ae.map((function(e,n){return Object(I.jsx)(u.a.Check,{inline:!0,type:"radio",onChange:function(e){V(e.target.value)},checked:e.keycode==k,value:e.keycode,name:"mode",label:e.keyvalue},"default-".concat(n))}))})}),Object(I.jsx)(u.a.Label,{className:"label_custom",style:{left:"10px"},children:"Incase of Document Duplication"})]})}),Object(I.jsxs)(l.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:D,type:"submit",children:"Save"})," ",Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return Ee(e,"mode")},children:"Reset to Default"})]})]})})]}),Object(I.jsx)(l.a,{lg:3,sm:12})]})]})]})}}}]);
//# sourceMappingURL=11.93992f87.chunk.js.map