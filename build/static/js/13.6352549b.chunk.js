(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[13],{232:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(4),c=a(17),r={getDocTypes:function(e){return function(t){t({type:n.x.DOC_TYPES_REQUEST}),c.b.getFilterTypes(e).then((function(e){e.sort((function(e,t){return e.keyvalue>t.keyvalue?1:e.keyvalue<t.keyvalue?-1:0})),t(function(e){return{type:n.x.DOC_TYPES_SUCCESS,payload:e}}(e))}),(function(e){t(function(e){return{type:n.x.DOC_TYPES_FAILURE,payload:e}}(e))}))}},getCommunicationType:function(e){return function(t){t({type:n.l.COMMUNICATION_TYPE_REQUEST}),c.b.getFilterTypes(e).then((function(e){t(function(e){return{type:n.l.COMMUNICATION_TYPE_SUCCESS,payload:e}}(e))}),(function(e){t(function(e){return{type:n.l.COMMUNICATION_TYPE_FAILURE,payload:e}}(e))}))}},getBankruptcyType:function(){return function(e){e({type:n.h.BANKRUPTCY_TYPE_REQUEST}),c.b.getFilterTypes("bankruptcy_type").then((function(t){e(function(e){return{type:n.h.BANKRUPTCY_TYPE_SUCCESS,payload:e}}(t))}),(function(t){e(function(e){return{type:n.h.BANKRUPTCY_TYPE_FAILURE,payload:e}}(t))}))}},getDocumentTypes:function(){return function(e){e({type:n.D.DOCUMENTS_TYPE_REQUEST}),c.b.getDocumentTypes().then((function(t){e(function(e){return{type:n.D.DOCUMENTS_TYPE_SUCCESS,payload:e}}(t))}),(function(t){e(function(e){return{type:n.D.DOCUMENTS_TYPE_FAILURE,payload:e}}(t))}))}},getProductTypes:function(){return function(e){e({type:n.V.PRODUCT_TYPE_REQUEST}),c.b.getProductTypes().then((function(t){e(function(e){return{type:n.V.PRODUCT_TYPE_SUCCESS,payload:e}}(t))}),(function(t){e(function(e){return{type:n.V.PRODUCT_TYPE_FAILURE,payload:e}}(t))}))}}}},244:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(4),c=a(17),r={getSentSummary:function(e){return function(t){t({type:n.lb.SENT_DOCUMENT_SUMMARY_REQUEST,payload:[]}),c.o.getSentSummary(e).then((function(e){t(function(e){return{type:n.lb.SENT_DOCUMENT_SUMMARY_SUCCESS,payload:e}}(e))}),(function(e){t({type:n.lb.SENT_DOCUMENT_SUMMARY_FAILURE,payload:[]})}))}},getDocumentCoverage:function(e){return function(t){t({type:n.y.DOCUMENT_COVERAGE_REQUEST,payload:[]}),c.o.getDocumentCoverage(e).then((function(e){t(function(e){return{type:n.y.DOCUMENT_COVERAGE_SUCCESS,payload:e}}(e))}),(function(e){t({type:n.y.DOCUMENT_COVERAGE_FAILURE,payload:[]})}))}},resetDocumentSummary:function(){return function(e){e({type:n.y.DOCUMENT_COVERAGE_RESET})}},getSummaryDrillDown:function(e){return function(t){t({type:n.A.DOCUMENT_SUMMARY_DOCUMENTS_REQUEST,payload:[]}),c.o.getSummaryDrillDown(e).then((function(e){t(function(e){return{type:n.A.DOCUMENT_SUMMARY_DOCUMENTS_SUCCESS,payload:e}}(e))}),(function(e){t({type:n.A.DOCUMENT_SUMMARY_DOCUMENTS_FAILURE,payload:[]})}))}},getSummaryDrillDownNot:function(e){return function(t){t({type:n.B.DOCUMENT_SUMMARY_DOCUMENTS_NOT_REQUEST,payload:[]}),c.o.getSummaryDrillDownNot(e).then((function(e){t(function(e){return{type:n.B.DOCUMENT_SUMMARY_DOCUMENTS_NOT_SUCCESS,payload:e}}(e))}),(function(e){t({type:n.B.DOCUMENT_SUMMARY_DOCUMENTS_NOT_FAILURE,payload:[]})}))}},reRender:function(){return function(e){e({type:n.W.RE_RENDER_REQUEST}),setTimeout((function(){e({type:n.W.RE_RENDER_RESET})}),1e3)}}}},245:function(e,t,a){"use strict";var n=a(14),c=a(2),r=a(221),s=a(216),i=a(219),o=a(89),l=a(40),u=a(21),d=a(253),p=a.n(d),b=a(232),m=a(3),j=Object(c.forwardRef)((function(e,t){var a=e.selectedValue,d=void 0===a?"":a,j=(e.isDisabled,Object(u.b)()),f=Object(u.c)((function(e){return{documentTypes:e.types.documentType.data,loading:e.types.documentType.loading,error:e.types.documentType.error}})),O=f.documentTypes,h=f.loading,x=f.error,y=Object(c.useState)(d),_=Object(n.a)(y,2),S=_[0],C=_[1];return Object(c.useImperativeHandle)(t,(function(){return{reset:function(){C("")}}})),Object(c.useEffect)((function(){O&&0===O.length&&!x&&j(b.a.getDocumentTypes())}),[O]),Object(m.jsxs)(m.Fragment,{children:[x&&Object(m.jsx)(r.a,{placement:"right",delay:{show:250,hide:400},overlay:Object(m.jsx)(s.a,{id:"tooltip-error",children:"Error in fetching"}),children:Object(m.jsx)(o.d,{size:20,className:p.a.details_warning})}),!x&&h&&Object(m.jsx)(l.d,{size:20,className:"spinner ".concat(p.a.details_warning)}),Object(m.jsxs)(i.a.Control,{as:"select",name:"document_type",value:S,className:"select_custom",onChange:function(e){C(e.target.value)},children:[Object(m.jsx)("option",{hidden:!0,disabled:!0,children:"Select Document Type..."}),O&&O.sort((function(e,t){return e.partnerName<t.partnerName?-1:e.partnerName>t.partnerName?1:0})).map((function(e,t){return Object(m.jsx)("option",{value:e.shortCode,children:e.documentType},"agency_".concat(t))}))]})]})}));t.a=j},253:function(e,t,a){e.exports={details_warning:"Common_details_warning__2lu-3",form_multiple:"Common_form_multiple__1IGof",tag_item:"Common_tag_item__FjigF",tag_item_button:"Common_tag_item_button__19IVB",error:"Common_error__2RdGo"}},257:function(e,t,a){"use strict";var n=a(82),c=a(6),r=a.n(c),s=a(9),i=a(14),o=a(2),l=a.n(o),u=a(218),d=a(306),p=a(158),b=a(221),m=a(216),j=a(156),f=a(231),O=a(40),h=a(131),x=a(264),y=a(263),_=a(21),S=a(29),C=a(109),E=a(297),g=a.n(E),v=a(123),T=a(5),A=a(244),N=function(e){var t=Object(o.useState)(null),n=Object(i.a)(t,2),c=n[0],l=n[1];return[c,{zipTargetFiles:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,c,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,1===t.length)l({zipFile:n,file:t[0]});else{for(c=a(163)(),s=null,i=0;i<t.length;i++)"matrix.xlsx"===t[i].name&&(s=t[i]),"application/zip"!==t[i].type&&"application/x-zip-compressed"!==t[i].type||(n=t[i]),n||"matrix.xlsx"===t[i].name||c.file(t[i].name,t[i]);n?l({matrixFile:s,file:n}):c.generateAsync({type:"blob"}).then((function(e){return new File([e],"new.zip",{type:"application/x-zip-compressed"})})).then((function(e){l({matrixFile:s,file:e})}))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]},R=a(245),D=a(3),U=[{sheet:"Matrix",columns:[{label:"Document Type"},{label:"Product Code"},{label:"Original Account Number"},{label:"Client Account Number"},{label:"Document Generation Date"},{label:"Equabli Account Number"},{label:"File Name"}],content:[]}];t.a=function(e){var t=e.show,a=e.onHide,c=(e.accountId,e.Styles),E=e.parentComponent,P=e.search,w=e.details,I=void 0===w?null:w,k=Object(S.useToasts)().addToast,q=Object(_.b)(),M=Object(o.useRef)(),F=N(null),L=Object(i.a)(F,2),z=L[0],V=L[1].zipTargetFiles,G=l.a.useState(!1),Y=Object(i.a)(G,2),K=Y[0],B=Y[1],W=l.a.useRef(null),Q=Object(o.useState)([]),H=Object(i.a)(Q,2),J=H[0],X=H[1],Z=Object(o.useState)(!1),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(o.useState)({fileLengthSingle:!1,fileSize:!1}),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],se=Object(o.useState)(),ie=Object(i.a)(se,2),oe=ie[0],le=ie[1],ue=Object(o.useState)(!1),de=Object(i.a)(ue,2),pe=de[0],be=de[1],me=Object(o.useState)([]),je=Object(i.a)(me,2),fe=je[0],Oe=je[1],he=Object(o.useState)(null),xe=Object(i.a)(he,2),ye=xe[0],_e=xe[1],Se=Object(_.c)((function(e){return{documentTypes:e.types.documentType.data}})).documentTypes;Object(o.useEffect)((function(){"documentNotSummary_request"===E&&Ee()}),[]),Object(o.useEffect)((function(){z&&"{}"!==JSON.stringify(z)&&Te()}),[z]);var Ce=function(e,t){var a={fileName:e};g()(t,a)},Ee=function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(I),e.prev=1,e.next=4,T.a.post("".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("document-service/api","/user/document/summary/accounts/not"),{pageSize:I.pageSize,pageNumber:I.pageNumber-1,docTypeCode:I.docTypeCode,tenure:"null"===I.duration?null:I.duration,portfolio:"null"===I.portfolio?null:I.portfolio,productCode:"null"===I.productCode?null:I.productCode,userId:"null"===I.userId?null:I.userId});case 4:t=e.sent,a=Object(T.j)(t),n=[{sheet:"Matrix",columns:[{label:"Document Type",value:"documentType"},{label:"Requested From",value:"requestedFrom"},{label:"Original Account Number",value:"originalAccountNumber"},{label:"Client Account Number",value:"clientAccountNumber"},{label:"Equabli Account Number",value:"equabliAccountNumber"}],content:[]}],c=a&&a.response&&a.response.datas.map((function(e){return{documentType:I.docTypeCode,requestedFrom:"",originalAccountNumber:"",clientAccountNumber:e,equabliAccountNumber:""}})),n[0].content=c,Oe(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),ge=function(e){var t=!0,a={file:!1};for(var n in 0===e.file&&(a.fileLengthSingle=!0),e)e[n]&&""!==e[n]||(a[n]=!0);for(var c in a)a[c]&&(t=!1);return re(a),t},ve=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ge({file:J.length})&&(te(!0),V(J));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,c,s,i,o,l,u,d,p,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be(!1),t={headers:{"Content-Type":"multipart/form-data"}},n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload"),c=z.file,s=z.matrixFile,"myDocument"!==E&&"receiveDocumentRequest"!==E||!(J.length>1)||s){e.next=8;break}return te(!1),be(!0),e.abrupt("return");case 8:if(i=new FormData,e.prev=9,!(c.size>10485760)){e.next=14;break}return k(Object(v.a)("info","FILE_LARGE",""),{appearance:"info",autoDismiss:!0}),te(!1),e.abrupt("return");case 14:if("application/zip"!==c.type&&"application/x-zip-compressed"!==c.type){e.next=32;break}return i.append("files",c),i.append("files",s),i.append("fileUploadVan",JSON.stringify({bulkType:"upload"})),n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload/bulk"),e.next=21,T.a.post(n,i,t);case 21:return o=e.sent,l=Object(T.j)(o),e.next=25,T.a.post("".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload/bulk/read"),{orgType:"CT",excelUrl:l.response.fileUrl[1],zipUrl:l.response.fileUrl[0],bulkType:"upload"});case 25:u=e.sent,Object(T.j)(u),k(Object(v.a)("success","uploaded","File"),{appearance:"success",autoDismiss:!0}),te(!1),a(),e.next=40;break;case 32:return"profile"===E?(n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("user-service/api","/v1/users/uploadProfilePic"),i.append("file",c)):"documents"===E?(d=M.current.document_type,n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload/account"),i.append("data",JSON.stringify({accountNumber:I.accountId,docType:d.value})),i.append("file",c)):"receiveDocumentRequest"===E&&null!==I?(n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload/fullfill"),i.append("file",c),i.append("id",JSON.stringify(I.id))):"sentDocumentRequest"===E||"documentNotSummary_request"===E?(n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload/bulk"),i.append("files",c),i.append("fileUploadVan",JSON.stringify({bulkType:"SendRequestDocument"}))):"documentNotSummary"===E?(n="".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/upload/specific/accounts"),p={docTypeCode:I.docTypeCode},i.append("file",c),i.append("data",JSON.stringify(p))):i.append("file",c),e.next=35,T.a.post(n,i,t);case 35:b=e.sent,Object(T.j)(b),k(Object(v.a)("success","uploaded","File"),{appearance:"success",autoDismiss:!0}),te(!1),a();case 40:q(A.a.getSentSummary({})),P(),e.next=49;break;case 44:throw e.prev=44,e.t0=e.catch(9),te(!1),k(Object(v.a)("error","uploading","file"),{appearance:"error",autoDismiss:!1}),e.t0;case 49:case"end":return e.stop()}}),e,null,[[9,44]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(e){e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?B(!0):"dragleave"===e.type&&B(!1)},Ne=function(e){console.log(e);var t=Object.assign([],J);if("profile"===E){var a=new FileReader;a.readAsDataURL(e[0]);a.onloadend=function(e){le(a.result)}}if("documents"!==E)t=0===t.length?Array.from(e):[].concat(Object(n.a)(t),Object(n.a)(Array.from(e)));else{var c=Se.map((function(e){return e.shortCode})),r=Array.from(e);c.map((function(e){r[0].name.includes("_".concat(e,"_"))&&_e(e)})),t=Array.from(e)}X(t)},Re=function(e){e.preventDefault(),e.target.files&&e.target.files[0]&&Ne(e.target.files)},De=function(){"profile"!==E?W.current.click():Ue.current.click()},Ue=Object(o.useRef)();return Object(D.jsxs)(u.a,{show:t,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"lg",animation:!0,children:[Object(D.jsx)(u.a.Header,{closeButton:!0,children:Object(D.jsxs)(u.a.Title,{id:"contained-modal-title-vcenter",children:["myDocument"===E||"documents"===E||"documentNotSummary"===E||"documentNotSummary_request"===E?"Upload New Document":"sentDocumentRequest"===E?"Upload file for bulk document request":"","profile"===E&&"Upload Profile Picture","receiveDocumentRequest"===E&&"Upload File to FulFill the request"]})}),Object(D.jsx)(u.a.Body,{className:"show-grid",children:Object(D.jsx)(d.a,{children:Object(D.jsxs)(p.a,{sm:12,children:["profile"!==E&&Object(D.jsx)("div",{className:c.list_upload_container,children:J&&J.length>0&&J.map((function(e,t){return Object(D.jsx)("div",{className:c.list_upload,children:Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(D.jsx)(p.a,{sm:6,children:Object(D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["application/x-zip-compressed"===e.type&&Object(D.jsx)(y.a,{}),"application/pdf"===e.type&&Object(D.jsx)(f.e,{}),("image/png"===e.type||"image/jpeg"===e.type)&&Object(D.jsx)(f.g,{}),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type&&Object(D.jsx)(x.a,{}),Object(D.jsx)(b.a,{placement:"bottom",delay:{show:250,hide:400},overlay:Object(D.jsx)(m.a,{id:"tooltip-error",children:e.name}),children:Object(D.jsx)("span",{style:{marginLeft:".5rem"},className:c.file_name,children:e.name})},"sw_".concat(t))]})}),Object(D.jsx)(p.a,{sm:5,children:"documents"===E&&Object(D.jsx)("form",{ref:M,children:Object(D.jsx)(R.a,{selectedValue:ye||""})})}),Object(D.jsx)(p.a,{sm:1,children:Object(D.jsx)(h.a,{onClick:function(){return function(e){var t=Object.assign([],J);t.splice(e,1),X(t)}(t)},size:25,style:{marginRight:".5rem",color:"red",cursor:"pointer"}})})]})},"file_".concat(t))}))}),Object(D.jsxs)(p.a,{md:12,sm:12,children:[Object(D.jsxs)("form",{id:"form-file-upload",onDragEnter:Ae,onSubmit:function(e){return e.preventDefault()},children:["profile"!==E&&Object(D.jsx)("input",{ref:W,type:"file",id:"input-file-upload",accept:"image/png, image/jpeg, application/pdf, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, .zip",multiple:"documents"!==E&&"profile"!==E,onChange:Re}),"profile"===E&&!oe&&Object(D.jsx)("input",{onChange:Re,ref:Ue,type:"file",name:"user_image",id:"input-file-upload",accept:"image/png, image/jpeg"}),oe&&Object(D.jsx)("div",{className:"temp_image",children:Object(D.jsx)("img",{src:oe,alt:""})}),!oe&&Object(D.jsx)("label",{id:"label-file-upload",className:K?"drag-active":"",children:Object(D.jsxs)("div",{children:[Object(D.jsx)(O.c,{size:60,color:"#5070e1",onClick:De,cursor:"pointer"}),Object(D.jsxs)("p",{style:{fontSize:"1.5rem",color:"#99a2b0",margin:0},children:["Drop Files here or ",Object(D.jsx)("span",{onClick:De,style:{color:"#5070e1",fontWeight:"bold",fontSize:"2.2rem",cursor:"pointer"},children:"Click here"})]}),Object(D.jsx)("p",{style:{color:"#b0b8c3"},children:"*Please note that png, jpeg, pdf files are allowed"})]})}),K&&Object(D.jsx)("div",{id:"drag-file-element",onDragEnter:Ae,onDragLeave:Ae,onDragOver:Ae,onDrop:function(e){e.preventDefault(),e.stopPropagation(),B(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&Ne(e.dataTransfer.files)}})]}),Object(D.jsx)("span",{className:c.form_error,children:Object(D.jsx)("small",{children:ce.fileLengthSingle?"File is required":""})}),Object(D.jsx)("span",{className:c.form_error,children:Object(D.jsx)("small",{children:pe?"Matrix File is required":""})})]})]})})}),Object(D.jsxs)(u.a.Footer,{style:{padding:"1rem 4rem 2rem"},className:"sent_bulk_request",children:[ee&&Object(D.jsx)(O.d,{size:20,className:"spinner ".concat(c.details_warning)}),Object(D.jsx)(p.a,{sm:12,className:"no_padding",children:Object(D.jsx)(j.a,{variant:"dark",type:"submit",disabled:ee,onClick:ve,style:{width:"100%"},children:"Upload"})}),("myDocument"===E||"receiveDocumentRequest"===E)&&J.length>1&&Object(D.jsxs)(p.a,{sm:12,className:"no_padding",children:[Object(D.jsx)("br",{}),Object(D.jsxs)("p",{children:["Please download the ",Object(D.jsx)("b",{children:"Matrix file"})," and update the columns to help system establish connection between the files being uploaded and system."]}),Object(D.jsx)(p.a,{sm:12,className:"no_padding",children:Object(D.jsx)(j.a,{variant:"dark",type:"submit",onClick:function(){return Ce("matrix",U)},style:{width:"100%"},children:"Download Sample File"})})]}),"documentNotSummary_request"===E&&Object(D.jsxs)(p.a,{sm:12,className:"no_padding",children:[Object(D.jsx)("br",{}),Object(D.jsxs)("p",{children:["Please download the ",Object(D.jsx)("b",{children:"Matrix file"})," and update the columns to help system establish connection between the files being uploaded and system."]}),Object(D.jsx)(p.a,{sm:12,className:"no_padding",children:Object(D.jsx)(j.a,{variant:"dark",type:"submit",onClick:function(){return Ce("matrix",fe)},style:{width:"100%"},children:"Download Sample File"})})]}),"sentDocumentRequest"===E&&Object(D.jsxs)(p.a,{sm:12,className:"no_padding",children:[Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:"Please download the sample file to get idea about the fields you need to pass to raise bulk document request"}),Object(D.jsx)(p.a,{sm:12,className:"no_padding",children:Object(D.jsx)(j.a,{variant:"dark",type:"submit",onClick:function(){var e="";e="myDocument"===E?"./sample_file_upload.xlsx":"".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("file-action-service/api","/file/download"),T.a.get(e,{responseType:"arraybuffer"}).then((function(e){var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Object(C.saveAs)(t,"SendRequestDocumentSample.xlsx")}))},style:{width:"100%"},children:"Download Sample File"})})]})]})]})}},308:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),r=a(9),s=a(14),i=a(2),o=a(21),l=a(217),u=a(158),d=a(219),p=a(156),b=a(29),m=a(17),j=a(67),f=a(5),O=a(123),h=a(35),x=a(257),y=a(3);t.default=function(){var e=Object(i.useRef)(),t=Object(o.b)(),a=Object(b.useToasts)().addToast,n=Object(i.useState)(""),_=Object(s.a)(n,2),S=_[0],C=_[1],E=Object(i.useState)(""),g=Object(s.a)(E,2),v=g[0],T=g[1],A=Object(i.useState)(""),N=Object(s.a)(A,2),R=N[0],D=N[1],U=Object(i.useState)([]),P=Object(s.a)(U,2),w=P[0],I=P[1],k=Object(i.useState)([]),q=Object(s.a)(k,2),M=q[0],F=q[1],L=Object(i.useState)([]),z=Object(s.a)(L,2),V=z[0],G=z[1],Y=Object(i.useState)(null),K=Object(s.a)(Y,2),B=K[0],W=K[1],Q=Object(i.useState)(!1),H=Object(s.a)(Q,2),J=H[0],X=(H[1],Object(i.useState)(!1)),Z=Object(s.a)(X,2),$=Z[0],ee=(Z[1],Object(i.useState)(!1)),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.useState)(!1),re=Object(s.a)(ce,2),se=(re[0],re[1]),ie=Object(o.c)((function(e){return{states:e.misc.state.data,loadingState:e.misc.state.loading,errorState:e.misc.state.error,app:e.misc.app.data,loadingApp:e.misc.app.loading,errorApp:e.misc.app.error,recordStatus:e.misc.recordStatus.data,loadingRecordStatus:e.misc.recordStatus.loading,errorRecordStatus:e.misc.recordStatus.error,recordSource:e.misc.recordSource.data,loadingRecordSource:e.misc.recordSource.loading,errorRecordSource:e.misc.recordSource.error}})),oe=ie.states,le=(ie.loadingState,ie.errorState,ie.app),ue=(ie.loadingApp,ie.errorApp,ie.recordStatus,ie.loadingRecordStatus,ie.errorRecordStatus,ie.recordSource);ie.loadingRecordSource,ie.errorRecordSource;Object(i.useEffect)((function(){var e=m.p.getUser();pe(),de(e.loginKey),t(j.a.getStates()),t(j.a.getAppId("ECP-WEB")),t(j.a.getRecordStatus("Enabled")),t(j.a.getRecordSource("ECP-WB"));var a=localStorage.getItem("isDemo");se(!(!a||"true"!==a))}),[]),Object(i.useEffect)((function(){}),[B]),Object(i.useEffect)((function(){var e=w.filter((function(e){if(e.keycode!==S)return e}));G(e)}),[S]),Object(i.useEffect)((function(){var e=w.filter((function(e){if(e.keycode!==v)return e}));F(e)}),[v]);var de=function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("user-service/api","/v1/users/getUserPreference?loginKey=").concat(t));case 3:a=e.sent,n=Object(f.j)(a),W(n.response),D(n.response.state),C(n.response.secretAnswers[0].question),T(n.response.secretAnswers[1].question),m.p.setImage(n.response.profilePicture),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),I([]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com").concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AWS_ACCESS_KEY_ID:"AKIAV2UCVO74JWMU5KOF",REACT_APP_AWS_ACCESS_KEY_SECRET:"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",REACT_APP_BASE_URL:"http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com",REACT_APP_BASE_URL_2:"https://service2.equabli.net",REACT_APP_COMMON_CONFIG_SERVICE:"common-config-service/api",REACT_APP_COMMON_CONFIG_SERVICE_2:"common-config-service",REACT_APP_DOCUMENT_SERVICE:"document-service/api",REACT_APP_FILE_UPLOAD_SERVICE:"file-action-service/api",REACT_APP_USER_SERVICE:"user-service/api"}).REACT_APP_COMMON_URL,"/getLookUpListByGroupKeyVal/secret_question"));case 3:t=e.sent,a=Object(f.j)(t),I(a.response),F(a.response),G(a.response),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),I([]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var t=Object(r.a)(c.a.mark((function t(n){var r,s,i,o,l,u,d,p,b,j,h,x,y;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=m.p.getUser(),s=e.current,i=s.communicationEmail,o=s.contactNumber,l=s.address1,u=s.address2,d=s.city,p=s.zip,b=s.answer1,j=s.answer2,h=oe.filter((function(e){if(e.stateCode===R)return e})),x={principleId:r.principleId,loginKey:r.loginKey,emailAddress:i.value,emailConsent:J,phone:o.value,phoneConsent:$,address1:l.value,address2:u.value,city:d.value,state:R,stateName:h[0].fullName,zip:p.value,secretAnswers:[{secretAnswerId:B.secretAnswers[0].secretAnswerId,principleId:r.principleId,question:"Q1",answer:b.value,updatedBy:r.loginKey,recordSourceId:ue.recordSourceId,appId:le.appId},{secretAnswerId:B.secretAnswers[1].secretAnswerId,principleId:r.principleId,question:"Q3",answer:j.value,updatedBy:r.loginKey,recordSourceId:ue.recordSourceId,appId:le.appId}]},t.prev=5,t.next=8,f.a.post("".concat("http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com").concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AWS_ACCESS_KEY_ID:"AKIAV2UCVO74JWMU5KOF",REACT_APP_AWS_ACCESS_KEY_SECRET:"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",REACT_APP_BASE_URL:"http://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com",REACT_APP_BASE_URL_2:"https://service2.equabli.net",REACT_APP_COMMON_CONFIG_SERVICE:"common-config-service/api",REACT_APP_COMMON_CONFIG_SERVICE_2:"common-config-service",REACT_APP_DOCUMENT_SERVICE:"document-service/api",REACT_APP_FILE_UPLOAD_SERVICE:"file-action-service/api",REACT_APP_USER_SERVICE:"user-service/api"}).REACT_APP_COMPLIANCE_SEARCH_URL,"/updateUserPreference"),x);case 8:y=t.sent,Object(f.j)(y),a(Object(O.a)("success","updated","User details"),{appearance:"success",autoDismiss:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),a(Object(O.a)("error","updating","user details"),{appearance:"error",autoDismiss:!1});case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(l.a,{style:{margin:0,paddingTop:"2rem"},className:"form_container",children:[Object(y.jsx)(u.a,{sm:2}),Object(y.jsx)(u.a,{sm:2,children:B&&Object(y.jsx)("div",{className:"profile_picture_container",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{src:null===B||void 0===B?void 0:B.profilePicture,alt:"",loading:"lazy"}),Object(y.jsx)("div",{onClick:function(){return ne(!0)},className:"edit_profile_pic",children:Object(y.jsx)(h.e,{})}),Object(y.jsx)("h5",{children:"".concat(null===B||void 0===B?void 0:B.firstName," ").concat(null===B||void 0===B?void 0:B.middleName," ").concat(null===B||void 0===B?void 0:B.lastName)}),Object(y.jsx)("p",{children:B.emailAddress})]})})}),Object(y.jsx)(u.a,{sm:6,children:B&&Object(y.jsxs)(d.a,{onSubmit:function(e){return be(e)},ref:e,children:[Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Email User ID"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",placeholder:"Email User ID",disabled:!0,defaultValue:B.emailAddress})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Organization Type"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",placeholder:"Organization Type",disabled:!0,defaultValue:B.recordSource})})]})})}),"Equabli"!==B.recordSource&&Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Partner"===B.recordSource?"Partner Name":"Client Name"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",placeholder:"Client Name",disabled:!0,defaultValue:"Partner"===B.recordSource?B.partnerName:B.clientName})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Role Type"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",placeholder:"Role Type",disabled:!0,defaultValue:B.authRoleName})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Name"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",placeholder:"Name",disabled:!0,defaultValue:"".concat(B.firstName," ").concat(B.middleName," ").concat(B.lastName)})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Communication Email ID"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"communicationEmail",placeholder:"Communication Email ID",defaultValue:B.emailAddress})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Contact Number"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"contactNumber",placeholder:"Contact Number",defaultValue:B.phone})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Address Line 1"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"address1",placeholder:"Address 1",defaultValue:B.address1})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Address Line 2"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"address2",placeholder:"Address 2",defaultValue:B.address2})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"City"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"city",placeholder:"City",defaultValue:B.city})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"State"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsxs)(d.a.Control,{as:"select",name:"state",value:R,onChange:function(e){D(e.target.value)},children:[Object(y.jsx)("option",{}),oe&&oe.map((function(e,t){return Object(y.jsx)("option",{value:e.stateCode,children:e.fullName},"secretQuestion_".concat(t))}))]})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Zip Code"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"zip",placeholder:"Zip Code",defaultValue:B.zip})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Secret Question 1 "}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsxs)(d.a.Control,{as:"select",name:"selectedQuestion1",value:S,onChange:function(e){C(e.target.value)},children:[Object(y.jsx)("option",{}),M&&M.map((function(e,t){return Object(y.jsx)("option",{value:e.keycode,children:e.keyvalue},"secretQuestion_".concat(t))}))]})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Answer 1"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"answer1",placeholder:"Answer 1"})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Secret Question 2"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsxs)(d.a.Control,{as:"select",name:"selectedQuestion2",value:v,onChange:function(e){T(e.target.value)},children:[Object(y.jsx)("option",{}),V&&V.map((function(e,t){return Object(y.jsx)("option",{value:e.keycode,children:e.keyvalue},"secretQuestion_".concat(t))}))]})})]})})}),Object(y.jsx)(l.a,{children:Object(y.jsx)(u.a,{sm:12,children:Object(y.jsxs)(d.a.Group,{as:l.a,children:[Object(y.jsx)(d.a.Label,{column:!0,md:4,sm:12,children:"Answer 2"}),Object(y.jsx)(u.a,{sm:8,children:Object(y.jsx)(d.a.Control,{type:"text",name:"answer2",placeholder:"Answer 2"})})]})})}),Object(y.jsx)(u.a,{sm:12,children:Object(y.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(y.jsx)(p.a,{variant:"dark",style:{marginRight:"10px"},type:"submit",children:"Submit"})})})]})}),Object(y.jsx)(u.a,{sm:2})]}),ae&&Object(y.jsx)(x.a,{show:ae,onHide:function(){return ne(!1)},accountId:123,Styles:{},parentComponent:"profile",search:function(){return de(B.loginKey)}})]})}}}]);