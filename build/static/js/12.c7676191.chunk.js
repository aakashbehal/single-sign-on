(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[12],{293:function(e,t,c){"use strict";c.r(t);var a=c(9),s=c.n(a),r=c(15),n=c(14),l=c(1),o=c(21),i=c(210),d=c(155),j=c(212),u=c(153),b=c(32),m=c(17),p=c(75),O=c(8),h=c(121),x=c(2);t.default=function(){var e=Object(l.useRef)(),t=Object(o.b)(),c=Object(b.useToasts)().addToast,a=Object(l.useState)(""),f=Object(n.a)(a,2),v=f[0],y=f[1],S=Object(l.useState)(""),g=Object(n.a)(S,2),C=g[0],w=g[1],A=Object(l.useState)(""),I=Object(n.a)(A,2),L=I[0],N=I[1],k=Object(l.useState)([]),G=Object(n.a)(k,2),R=G[0],E=G[1],q=Object(l.useState)([]),V=Object(n.a)(q,2),D=V[0],Q=V[1],U=Object(l.useState)([]),K=Object(n.a)(U,2),P=K[0],z=K[1],T=Object(l.useState)(null),B=Object(n.a)(T,2),_=B[0],F=B[1],J=Object(l.useState)(!1),W=Object(n.a)(J,2),Z=W[0],H=(W[1],Object(l.useState)(!1)),M=Object(n.a)(H,2),X=M[0],Y=(M[1],Object(l.useState)(!1)),$=Object(n.a)(Y,2),ee=$[0],te=$[1],ce=Object(o.c)((function(e){return{states:e.misc.state.data,loadingState:e.misc.state.loading,errorState:e.misc.state.error,app:e.misc.app.data,loadingApp:e.misc.app.loading,errorApp:e.misc.app.error,recordStatus:e.misc.recordStatus.data,loadingRecordStatus:e.misc.recordStatus.loading,errorRecordStatus:e.misc.recordStatus.error,recordSource:e.misc.recordSource.data,loadingRecordSource:e.misc.recordSource.loading,errorRecordSource:e.misc.recordSource.error}})),ae=ce.states,se=(ce.loadingState,ce.errorState,ce.app),re=(ce.loadingApp,ce.errorApp,ce.recordStatus,ce.loadingRecordStatus,ce.errorRecordStatus,ce.recordSource);ce.loadingRecordSource,ce.errorRecordSource;Object(l.useEffect)((function(){var e=m.h.getUser();le(),ne(e.loginKey),t(p.a.getStates()),t(p.a.getAppId("ECP-WEB")),t(p.a.getRecordStatus("Enabled")),t(p.a.getRecordSource("ECP-WB"));var c=localStorage.getItem("isDemo");te(!(!c||"true"!==c))}),[]),Object(l.useEffect)((function(){}),[_]),Object(l.useEffect)((function(){var e=R.filter((function(e){if(e.keycode!==v)return e}));z(e)}),[v]),Object(l.useEffect)((function(){var e=R.filter((function(e){if(e.keycode!==C)return e}));Q(e)}),[C]);var ne=function(){var e=Object(r.a)(s.a.mark((function e(t){var c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("https://service2.equabli.net").concat("/compliance-service","/getUserPreference?loginKey=").concat(t));case 3:c=e.sent,a=Object(O.e)(c),F(a.response),N(a.response.state),y(a.response.secretAnswers[0].question),w(a.response.secretAnswers[1].question),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),E([]);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(r.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat("https://service2.equabli.net").concat("/common-utility-service","/getLookUpListByGroupKeyVal/secret_question"));case 3:t=e.sent,c=Object(O.e)(t),E(c.response),Q(c.response),z(c.response),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),E([]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var t=Object(r.a)(s.a.mark((function t(a){var r,n,l,o,i,d,j,u,b,p,x,f,v;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=m.h.getUser(),n=e.current,l=n.communicationEmail,o=n.contactNumber,i=n.address1,d=n.address2,j=n.city,u=n.zip,b=n.answer1,p=n.answer2,x=ae.filter((function(e){if(e.stateCode===L)return e})),f={principleId:r.principleId,loginKey:r.loginKey,emailAddress:l.value,emailConsent:Z,phone:o.value,phoneConsent:X,address1:i.value,address2:d.value,city:j.value,state:L,stateName:x[0].fullName,zip:u.value,secretAnswers:[{secretAnswerId:_.secretAnswers[0].secretAnswerId,principleId:r.principleId,question:"Q1",answer:b.value,updatedBy:r.loginKey,recordSourceId:re.recordSourceId,appId:se.appId},{secretAnswerId:_.secretAnswers[1].secretAnswerId,principleId:r.principleId,question:"Q3",answer:p.value,updatedBy:r.loginKey,recordSourceId:re.recordSourceId,appId:se.appId}]},t.prev=5,t.next=8,O.a.post("".concat("https://service2.equabli.net").concat("/compliance-service","/updateUserPreference"),f);case 8:v=t.sent,Object(O.e)(v),c(Object(h.a)("success","updated","User details"),{appearance:"success",autoDismiss:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),c(Object(h.a)("error","updating","user details"),{appearance:"error",autoDismiss:!1});case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(i.a,{style:{margin:0},className:"form_container",children:[Object(x.jsx)(d.a,{sm:3}),Object(x.jsx)(d.a,{sm:6,children:_&&Object(x.jsxs)(j.a,{onSubmit:function(e){return oe(e)},ref:e,children:[Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Email User ID"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Email User ID",disabled:!0,defaultValue:_.emailAddress})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Organization Type"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Organization Type",disabled:!0,defaultValue:_.recordSource})})]})})}),"Equabli"!==_.recordSource&&Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Partner"===_.recordSource?"Partner Name":"Client Name"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Client Name",disabled:!0,defaultValue:"Partner"===_.recordSource?_.partnerName:_.clientName})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Role Type"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Role Type",disabled:!0,defaultValue:_.authRoleName})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Name"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",placeholder:"Name",disabled:!0,defaultValue:"".concat(_.firstName," ").concat(_.middleName," ").concat(_.lastName)})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Communication Email ID"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"communicationEmail",placeholder:"Communication Email ID",defaultValue:_.emailAddress})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Contact Number"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"contactNumber",placeholder:"Contact Number",defaultValue:_.phone})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Address Line 1"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"address1",placeholder:"Address 1",defaultValue:_.address1})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Address Line 2"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"address2",placeholder:"Address 2",defaultValue:_.address2})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"City"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"city",placeholder:"City",defaultValue:_.city})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"State"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(j.a.Control,{as:"select",name:"state",value:L,onChange:function(e){N(e.target.value)},children:[Object(x.jsx)("option",{}),ae&&ae.map((function(e,t){return Object(x.jsx)("option",{value:e.stateCode,children:e.fullName},"secretQuestion_".concat(t))}))]})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Zip Code"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"zip",placeholder:"Zip Code",defaultValue:_.zip})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Secret Question 1 "}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(j.a.Control,{as:"select",name:"selectedQuestion1",value:v,onChange:function(e){y(e.target.value)},children:[Object(x.jsx)("option",{}),D&&D.map((function(e,t){return Object(x.jsx)("option",{value:e.keycode,children:e.keyvalue},"secretQuestion_".concat(t))}))]})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Answer 1"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"answer1",placeholder:"Answer 1"})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Secret Question 2"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsxs)(j.a.Control,{as:"select",name:"selectedQuestion2",value:C,onChange:function(e){w(e.target.value)},children:[Object(x.jsx)("option",{}),P&&P.map((function(e,t){return Object(x.jsx)("option",{value:e.keycode,children:e.keyvalue},"secretQuestion_".concat(t))}))]})})]})})}),Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Answer 2"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)(j.a.Control,{type:"text",name:"answer2",placeholder:"Answer 2"})})]})})}),"stage.equabli.net"!==window.location.host&&"www.equabli.net"!==window.location.host&&Object(x.jsx)(i.a,{children:Object(x.jsx)(d.a,{sm:12,children:Object(x.jsxs)(j.a.Group,{as:i.a,children:[Object(x.jsx)(j.a.Label,{column:!0,md:4,sm:12,children:"Demo"}),Object(x.jsx)(d.a,{sm:8,children:Object(x.jsx)("input",{type:"checkbox",className:"switch",name:"isNoRangeFix",checked:ee,onChange:function(e){return t=e.target.checked,localStorage.setItem("isDemo",t),void te(t);var t}})})]})})}),Object(x.jsx)(d.a,{sm:12,children:Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(x.jsx)(u.a,{variant:"dark",style:{marginRight:"10px"},type:"submit",children:"Submit"})})})]})}),Object(x.jsx)(d.a,{sm:3})]})})}}}]);
//# sourceMappingURL=12.c7676191.chunk.js.map