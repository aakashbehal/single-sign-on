(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[18],{316:function(e,a,t){"use strict";t.r(a);var l=t(14),s=t(2),n=t(158),c=t(217),i=t(156),d=t(218),r=t(306),o=t(219),u=t(21),j=t(246),m=t(303),b=t.n(m),h=t(4),O=t(17),p=function(e){return function(a){a({type:h.K.GET_ALL_CLIENTS_REQUEST}),O.a.getAllClients(e).then((function(e){a(function(e){return{type:h.K.GET_ALL_CLIENTS_SUCCESS,payload:e}}(e))}),(function(e){a({type:h.K.GET_ALL_CLIENTS_FAILURE})}))}},x=function(e){return function(a){a({type:h.b.ADD_CLIENTS_REQUEST}),O.a.addClient(e).then((function(e){a(function(e){return{type:h.b.ADD_CLIENTS_SUCCESS,payload:e}}(e))}),(function(e){a({type:h.b.ADD_CLIENTS_FAILURE})})).finally((function(){return a({type:h.b.ADD_CLIENTS_RESET})}))}},v=function(e){return function(a){a({type:h.F.EDIT_CLIENTS_REQUEST}),O.a.editClient(e).then((function(e){a(function(e){return{type:h.F.EDIT_CLIENTS_SUCCESS,payload:e}}(e))}),(function(e){a({type:h.F.EDIT_CLIENTS_FAILURE})})).finally((function(){return a({type:h.F.EDIT_CLIENTS_RESET})}))}},N=t(123),C=t(29),f=t(3),g=function(e){var a=e.onHide,t=e.show,u=e.data,j=e.dispatch,m=Object(s.useRef)(),b=Object(s.useState)({shortName:!1,fullName:!1,clientType:!1}),h=Object(l.a)(b,2),O=h[0],p=h[1],N=function(){var e=m.current,a=e.shortName,t=e.fullName,l=e.clientType,s=e.pocName,n=e.quickSiteId,c=e.isMasterserviced,i=e.emailAddress,d=e.address1,r=e.address2,o=e.city,b=e.zip,h=e.phone1,O=e.phone2,N=e.website,C={clientId:(null===u||void 0===u?void 0:u.clientId)||null,shortName:(null===a||void 0===a?void 0:a.value)||null,fullName:(null===t||void 0===t?void 0:t.value)||null,clientType:(null===l||void 0===l?void 0:l.value)||null,pocName:(null===s||void 0===s?void 0:s.value)||null,quickSiteId:(null===n||void 0===n?void 0:n.value)||null,isMasterserviced:(null===c||void 0===c?void 0:c.checked)||!1,emailAddress:(null===i||void 0===i?void 0:i.value)||null,address1:(null===d||void 0===d?void 0:d.value)||null,address2:(null===r||void 0===r?void 0:r.value)||null,city:(null===o||void 0===o?void 0:o.value)||null,zip:(null===b||void 0===b?void 0:b.value)||null,phone1:(null===h||void 0===h?void 0:h.value)||null,phone2:(null===O||void 0===O?void 0:O.value)||null,website:(null===N||void 0===N?void 0:N.value)||null};(function(e){var a={shortName:e.shortName,fullName:e.fullName,clientType:e.clientType},t=!0,l={shortName:!1,fullName:!1,clientType:!1};for(var s in a)a[s]&&""!==a[s]||(l[s]=!0);for(var n in l)l[n]&&(t=!1);return p(l),t})(C)&&j(u?v(C):x(C))};return Object(f.jsxs)(d.a,{onHide:a,show:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"lg",animation:!0,children:[Object(f.jsx)(d.a.Header,{closeButton:!0,children:Object(f.jsx)(d.a.Title,{id:"contained-modal-title-vcenter",children:u?"Edit Client":"Add Client"})}),Object(f.jsx)(d.a.Body,{className:"show-grid",children:Object(f.jsx)(r.a,{children:Object(f.jsx)(o.a,{ref:m,children:Object(f.jsxs)(c.a,{children:[Object(f.jsxs)(n.a,{xs:12,md:6,className:"mt-3",children:[Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-4",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"shortName",defaultValue:(null===u||void 0===u?void 0:u.shortName)||null,maxLength:5})}),Object(f.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:Object(f.jsx)("small",{children:O.shortName?"Short Name is required ":""})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Short Name"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-4",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"fullName",defaultValue:(null===u||void 0===u?void 0:u.fullName)||null})}),Object(f.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:Object(f.jsx)("small",{children:O.fullName?"Full Name is required ":""})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Full Name"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-4",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"clientType",defaultValue:(null===u||void 0===u?void 0:u.clientType)||null})}),Object(f.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:Object(f.jsx)("small",{children:O.clientType?"Client Type is required ":""})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Client Type"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"pocName",defaultValue:(null===u||void 0===u?void 0:u.pocName)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Point Of Contact"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"quickSiteId",defaultValue:(null===u||void 0===u?void 0:u.quickSiteId)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"QuickSight ID"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,className:"mt-1",children:Object(f.jsx)("input",{type:"checkbox",className:"switch mt-2",name:"isMasterserviced",defaultChecked:null===u||void 0===u?void 0:u.isMasterserviced})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Master Serviced"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"emailAddress",defaultValue:(null===u||void 0===u?void 0:u.emailAddress)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Email Address"})]})})]}),Object(f.jsxs)(n.a,{xs:12,md:6,className:"mt-3",children:[Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"address1",defaultValue:(null===u||void 0===u?void 0:u.address1)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Address 1"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"address2",defaultValue:(null===u||void 0===u?void 0:u.address2)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Address 2"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"city",defaultValue:(null===u||void 0===u?void 0:u.city)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"City"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"zip",defaultValue:(null===u||void 0===u?void 0:u.zip)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"ZIP Code"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"phone1",defaultValue:(null===u||void 0===u?void 0:u.phone1)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Primary Phone"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"phone2",defaultValue:(null===u||void 0===u?void 0:u.phone2)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Secondary Phone"})]})}),Object(f.jsx)(n.a,{lg:12,md:6,className:"no_padding",children:Object(f.jsxs)(o.a.Group,{as:n.a,className:"mb-5",children:[Object(f.jsx)(n.a,{md:12,sm:12,children:Object(f.jsx)(o.a.Control,{type:"text",name:"website",defaultValue:(null===u||void 0===u?void 0:u.website)||null})}),Object(f.jsx)(o.a.Label,{className:"label_custom white",children:"Website"})]})})]})]})})})}),Object(f.jsxs)(d.a.Footer,{children:[Object(f.jsx)(i.a,{variant:"dark",onClick:a,children:"Close"}),Object(f.jsx)(i.a,{variant:"dark",onClick:function(){return N()},children:"Save"})]})]})};a.default=function(){var e=Object(u.b)(),a=Object(C.useToasts)().addToast,t=Object(s.useState)("modifiedDate"),d=Object(l.a)(t,2),r=d[0],o=d[1],m=Object(s.useState)("desc"),h=Object(l.a)(m,2),O=h[0],x=h[1],v=Object(s.useState)(10),y=Object(l.a)(v,2),S=y[0],_=y[1],E=Object(s.useState)(1),L=Object(l.a)(E,2),T=L[0],I=L[1],w=Object(s.useState)(!1),A=Object(l.a)(w,2),D=A[0],k=A[1],G=Object(s.useState)(null),V=Object(l.a)(G,2),F=V[0],q=V[1],R=Object(u.c)((function(e){return{clients:e.clients.data,error:e.clients.error,loading:e.clients.loading,totalCount:e.clients.totalCount,addClientSuccess:e.clients.addClientSuccess,addClientLoading:e.clients.addClientLoading,addClientError:e.clients.addClientError,editClientSuccess:e.clients.editClientSuccess,editClientLoading:e.clients.editClientLoading,editClientError:e.clients.editClientError,deactivateClientSuccess:e.clients.deactivateClientSuccess,deactivateClientLoading:e.clients.deactivateClientLoading,deactivateClientError:e.clients.deactivateClientError}})),U=R.clients,M=R.totalCount,P=(R.error,R.loading),z=R.addClientSuccess,Q=(R.addClientLoading,R.addClientError),H=R.editClientSuccess,K=(R.editClientLoading,R.editClientError),B=R.deactivateClientSuccess,J=(R.deactivateClientLoading,R.deactivateClientError);Object(s.useEffect)((function(){W(S,T)}),[r,O]);var W=function(a,t){e(p({pageSize:a,pageNumber:t}))};return Object(s.useEffect)((function(){z&&(a(Object(N.a)("success","added","Client"),{appearance:"success",autoDismiss:!0}),W(S,T)),H&&(a(Object(N.a)("success","edited","Client"),{appearance:"success",autoDismiss:!0}),W(S,T)),B&&(a(Object(N.a)("success","uploaded","Client"),{appearance:"success",autoDismiss:!0}),W(S,T)),k(!1),q(null)}),[z,H,B]),Object(s.useEffect)((function(){Q&&a(Object(N.a)("error","adding","Client"),{appearance:"error",autoDismiss:!1}),K&&a(Object(N.a)("error","editing","Client"),{appearance:"error",autoDismiss:!1}),J&&a(Object(N.a)("error","uploading","Client"),{appearance:"error",autoDismiss:!1})}),[Q,K,J]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(n.a,{sm:12,children:[Object(f.jsxs)(c.a,{style:{margin:0},sm:12,className:"form_container",children:[Object(f.jsx)(n.a,{lg:3,sm:12}),Object(f.jsx)(n.a,{lg:6,sm:12,children:Object(f.jsxs)("div",{className:b.a.add_buttons,children:[Object(f.jsx)(i.a,{variant:"dark",onClick:function(){return k(!0)},children:"Add Client"})," "]})}),Object(f.jsx)(n.a,{lg:3,sm:12})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]}),Object(f.jsx)(n.a,{children:Object(f.jsx)(j.a,{data:U,isLoading:P,map:{clientId:"Client ID",shortName:"Short Name",fullName:"Full Name",clientType:"Client Type",emailAddress:"Email",quicksiteId:"Quicksite ID",isMasterserviced:"Master Serviced"},totalCount:M,actionArray:[],handleNavigate:function(){},currencyColumns:[],sortElement:function(e){return o(e)},sortType:function(e){return x(e)},currentPage:T,setCurrentPage:I,parentComponent:"clientSetup",searchCriteria:{},hideShareArray:["clientId","shortName","fullName","clientType","emailAddress","quicksiteId","isMasterserviced"],addEditArray:{editClient:function(e){k(!0),q(e)}},onPaginationChange:function(e,a){return function(e,a){_(e),W(e,a)}(e,a)}})}),D&&Object(f.jsx)(g,{onHide:function(){k(!D),q(null)},show:D,data:F,dispatch:e})]})}}}]);