(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[19],{317:function(e,a,t){"use strict";t.r(a);var l=t(14),n=t(2),s=t(158),c=t(217),i=t(156),r=t(218),d=t(306),o=t(219),u=t(21),m=t(246),j=t(303),b=t.n(j),h=t(4),O=t(17),x=function(e){return function(a){a({type:h.L.GET_ALL_PARTNER_REQUEST}),O.h.getAllPartners(e).then((function(e){a(function(e){return{type:h.L.GET_ALL_PARTNER_SUCCESS,payload:e}}(e))}),(function(e){a({type:h.L.GET_ALL_PARTNER_FAILURE})}))}},p=function(e){return function(a){a({type:h.c.ADD_PARTNER_REQUEST}),O.h.addPartner(e).then((function(e){var t;a((t=e,{type:h.c.ADD_PARTNER_SUCCESS,payload:t}))}),(function(e){a({type:h.c.ADD_PARTNER_FAILURE})})).finally((function(){return a({type:h.c.ADD_PARTNER_RESET})}))}},v=function(e){return function(a){a({type:h.H.EDIT_PARTNER_REQUEST}),O.h.editPartner(e).then((function(e){var t;a((t=e,{type:h.H.EDIT_PARTNER_SUCCESS,payload:t}))}),(function(e){a({type:h.H.EDIT_PARTNER_FAILURE})})).finally((function(){return a({type:h.H.EDIT_PARTNER_RESET})}))}},N=t(123),f=t(29),P=t(3),g=function(e){var a=e.onHide,t=e.show,u=e.data,m=e.dispatch,j=Object(n.useRef)(),b=Object(n.useState)({shortName:!1,fullName:!1}),h=Object(l.a)(b,2),O=h[0],x=h[1],N=function(){var e=j.current,a=e.shortName,t=e.fullName,l=e.pocName,n=e.quickSiteId,s=e.isEqassociate,c=e.emailAddress,i=e.address1,r=e.address2,d=e.city,o=e.zip,b=e.phone1,h=e.phone2,O=e.website,N=e.amtMinCollLimit,f=e.amtMaxCollLimit,P=e.namePronunciation,g=e.emailPronunciation,_=e.phonePronunciation,E=e.addressPronunciation,L={partnerId:(null===u||void 0===u?void 0:u.partnerId)||null,shortName:(null===a||void 0===a?void 0:a.value)||null,fullName:(null===t||void 0===t?void 0:t.value)||null,pocName:(null===l||void 0===l?void 0:l.value)||null,quickSiteId:(null===n||void 0===n?void 0:n.value)||null,isEqassociate:(null===s||void 0===s?void 0:s.checked)||!1,emailAddress:(null===c||void 0===c?void 0:c.value)||null,address1:(null===i||void 0===i?void 0:i.value)||null,address2:(null===r||void 0===r?void 0:r.value)||null,city:(null===d||void 0===d?void 0:d.value)||null,zip:(null===o||void 0===o?void 0:o.value)||null,phone1:(null===b||void 0===b?void 0:b.value)||null,phone2:(null===h||void 0===h?void 0:h.value)||null,website:(null===O||void 0===O?void 0:O.value)||null,amtMinCollLimit:(null===N||void 0===N?void 0:N.value)||null,amtMaxCollLimit:(null===f||void 0===f?void 0:f.value)||null,namePronunciation:(null===P||void 0===P?void 0:P.value)||null,emailPronunciation:(null===g||void 0===g?void 0:g.value)||null,phonePronunciation:(null===_||void 0===_?void 0:_.value)||null,addressPronunciation:(null===E||void 0===E?void 0:E.value)||null};(function(e){var a={shortName:e.shortName,fullName:e.fullName},t=!0,l={shortName:!1,fullName:!1};for(var n in a)a[n]&&""!==a[n]||(l[n]=!0);for(var s in l)l[s]&&(t=!1);return x(l),t})(L)&&m(u?v(L):p(L))};return Object(P.jsxs)(r.a,{onHide:a,show:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"lg",animation:!0,children:[Object(P.jsx)(r.a.Header,{closeButton:!0,children:Object(P.jsx)(r.a.Title,{id:"contained-modal-title-vcenter",children:u?"Edit Partner":"Add Partner"})}),Object(P.jsx)(r.a.Body,{className:"show-grid",children:Object(P.jsx)(d.a,{children:Object(P.jsx)(o.a,{ref:j,children:Object(P.jsxs)(c.a,{children:[Object(P.jsxs)(s.a,{xs:12,md:6,className:"mt-3",children:[Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-4",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"shortName",defaultValue:(null===u||void 0===u?void 0:u.shortName)||null,maxLength:5})}),Object(P.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:Object(P.jsx)("small",{children:O.shortName?"Short Name is required ":""})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Short Name"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-4",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"fullName",defaultValue:(null===u||void 0===u?void 0:u.fullName)||null})}),Object(P.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:Object(P.jsx)("small",{children:O.fullName?"Full Name is required ":""})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Full Name"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"pocName",defaultValue:(null===u||void 0===u?void 0:u.pocName)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Point Of Contact"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"quickSiteId",defaultValue:(null===u||void 0===u?void 0:u.quickSiteId)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"QuickSight ID"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,className:"mt-1",children:Object(P.jsx)("input",{type:"checkbox",className:"switch mt-2",name:"isEqassociate",defaultChecked:null===u||void 0===u?void 0:u.isEqassociate})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Equabli Associated"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"emailAddress",defaultValue:(null===u||void 0===u?void 0:u.emailAddress)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Email Address"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"number",name:"amtMinCollLimit",defaultValue:(null===u||void 0===u?void 0:u.amtMinCollLimit)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Min Collection Limit"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"number",name:"amtMaxCollLimit",defaultValue:(null===u||void 0===u?void 0:u.amtMaxCollLimit)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Max Collection Limit"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"addressPronunciation",defaultValue:(null===u||void 0===u?void 0:u.addressPronunciation)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Address Pronunciation"})]})})]}),Object(P.jsxs)(s.a,{xs:12,md:6,className:"mt-3",children:[Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"address1",defaultValue:(null===u||void 0===u?void 0:u.address1)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Address 1"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"address2",defaultValue:(null===u||void 0===u?void 0:u.address2)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Address 2"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"city",defaultValue:(null===u||void 0===u?void 0:u.city)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"City"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"zip",defaultValue:(null===u||void 0===u?void 0:u.zip)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"ZIP Code"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"phone1",defaultValue:(null===u||void 0===u?void 0:u.phone1)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Primary Phone"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"phone2",defaultValue:(null===u||void 0===u?void 0:u.phone2)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Secondary Phone"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"website",defaultValue:(null===u||void 0===u?void 0:u.website)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Website"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"namePronunciation",defaultValue:(null===u||void 0===u?void 0:u.namePronunciation)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Name Pronunciation"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"emailPronunciation",defaultValue:(null===u||void 0===u?void 0:u.emailPronunciation)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Email Pronunciation"})]})}),Object(P.jsx)(s.a,{lg:12,md:6,className:"no_padding",children:Object(P.jsxs)(o.a.Group,{as:s.a,className:"mb-5",children:[Object(P.jsx)(s.a,{md:12,sm:12,children:Object(P.jsx)(o.a.Control,{type:"text",name:"phonePronunciation",defaultValue:(null===u||void 0===u?void 0:u.phonePronunciation)||null})}),Object(P.jsx)(o.a.Label,{className:"label_custom white",children:"Phone Pronunciation"})]})})]})]})})})}),Object(P.jsxs)(r.a.Footer,{children:[Object(P.jsx)(i.a,{variant:"dark",onClick:a,children:"Close"}),Object(P.jsx)(i.a,{variant:"dark",onClick:function(){return N()},children:"Save"})]})]})};a.default=function(){var e=Object(u.b)(),a=Object(f.useToasts)().addToast,t=Object(n.useState)("modifiedDate"),r=Object(l.a)(t,2),d=r[0],o=r[1],j=Object(n.useState)("desc"),h=Object(l.a)(j,2),O=h[0],p=h[1],v=Object(n.useState)(10),_=Object(l.a)(v,2),E=_[0],L=_[1],y=Object(n.useState)(1),C=Object(l.a)(y,2),S=C[0],A=C[1],R=Object(n.useState)(!1),w=Object(l.a)(R,2),T=w[0],D=w[1],G=Object(n.useState)(null),I=Object(l.a)(G,2),k=I[0],q=I[1],V=Object(u.c)((function(e){return{partners:e.partners.data,error:e.partners.error,loading:e.partners.loading,totalCount:e.partners.totalCount,addPartnerSuccess:e.partners.addPartnerSuccess,addPartnerLoading:e.partners.addPartnerLoading,addPartnerError:e.partners.addPartnerError,editPartnerSuccess:e.partners.editPartnerSuccess,editPartnerLoading:e.partners.editPartnerLoading,editPartnerError:e.partners.editPartnerError,deactivatePartnerSuccess:e.partners.deactivatePartnerSuccess,deactivatePartnerLoading:e.partners.deactivatePartnerLoading,deactivatePartnerError:e.partners.deactivatePartnerError}})),M=V.partners,U=V.totalCount,F=(V.error,V.loading),H=V.addPartnerSuccess,z=(V.addPartnerLoading,V.addPartnerError),Q=V.editPartnerSuccess,B=(V.editPartnerLoading,V.editPartnerError),J=V.deactivatePartnerSuccess,W=(V.deactivatePartnerLoading,V.deactivatePartnerError);Object(n.useEffect)((function(){Z(E,S)}),[d,O]);var Z=function(a,t){e(x({pageSize:a,pageNumber:t}))};return Object(n.useEffect)((function(){H&&(a(Object(N.a)("success","added","Partner"),{appearance:"success",autoDismiss:!0}),Z(E,S)),Q&&(a(Object(N.a)("success","edited","Partner"),{appearance:"success",autoDismiss:!0}),Z(E,S)),J&&(a(Object(N.a)("success","uploaded","Partner"),{appearance:"success",autoDismiss:!0}),Z(E,S)),D(!1),q(null)}),[H,Q,J]),Object(n.useEffect)((function(){z&&a(Object(N.a)("error","adding","Partner"),{appearance:"error",autoDismiss:!1}),B&&a(Object(N.a)("error","editing","Partner"),{appearance:"error",autoDismiss:!1}),W&&a(Object(N.a)("error","uploading","Partner"),{appearance:"error",autoDismiss:!1})}),[z,B,W]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(s.a,{sm:12,children:[Object(P.jsxs)(c.a,{style:{margin:0},sm:12,className:"form_container",children:[Object(P.jsx)(s.a,{lg:3,sm:12}),Object(P.jsx)(s.a,{lg:6,sm:12,children:Object(P.jsxs)("div",{className:b.a.add_buttons,children:[Object(P.jsx)(i.a,{variant:"dark",onClick:function(){return D(!0)},children:"Add Partner"})," "]})}),Object(P.jsx)(s.a,{lg:3,sm:12})]}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{})]}),Object(P.jsx)(s.a,{children:Object(P.jsx)(m.a,{data:M,isLoading:F,map:{partnerId:"Partner ID",shortName:"Short Name",fullName:"Full Name",emailAddress:"Email",quicksiteId:"Quicksite ID",isEqassociate:"Equabli Associated"},totalCount:U,actionArray:[],handleNavigate:function(){},currencyColumns:[],sortElement:function(e){return o(e)},sortType:function(e){return p(e)},currentPage:S,setCurrentPage:A,parentComponent:"partnerSetup",searchCriteria:{},hideShareArray:["partnerId","shortName","fullName","emailAddress","quicksiteId","isEqassociate"],addEditArray:{editClient:function(e){D(!0),q(e)}},onPaginationChange:function(e,a){return function(e,a){L(e),Z(e,a)}(e,a)}})}),T&&Object(P.jsx)(g,{onHide:function(){D(!T),q(null)},show:T,data:k,dispatch:e})]})}}}]);