(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[13],{282:function(e,n,t){e.exports={movement_group:"User_movement_group__hN-zZ",button_center:"User_button_center__jLzXE",search_input:"User_search_input__1yonV",search:"User_search__kQVRZ",advanceSearch:"User_advanceSearch__28VFr",my_document_search:"User_my_document_search__3qvbe",collapse_summary:"User_collapse_summary__2ZBSi",advance_search:"User_advance_search__3O2qV",required_documents:"User_required_documents__1ToGB"}},341:function(e,n,t){"use strict";t.r(n);var a=t(6),c=t.n(a),i=t(10),o=t(14),r=t(1),l=t(251),s=t(170),u=t(253),f=t(168),d=t(21),j=t(36),O=t(282),b=t.n(O),m=t(4),C=t(17),h=function(){return function(e){e({type:m.k.CONJUNCTION_REQUEST}),C.d.getConfig({fileNameConfig:"SEPARATOR"}).then((function(n){e(function(e){return{type:m.k.CONJUNCTION_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.k.CONJUNCTION_FAILURE,payload:e}}(n))}))}},g=function(){return function(e){e({type:m.D.FIELD_OPTIONS_REQUEST}),C.d.getConfig({fileNameConfig:"FIELD"}).then((function(n){e(function(e){return{type:m.D.FIELD_OPTIONS_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.D.FIELD_OPTIONS_FAILURE,payload:e}}(n))}))}},_=function(){return function(e){e({type:m.P.RETENTION_POLICY_REQUEST}),C.d.getConfig({fileNameConfig:"RETENTION_POLICY"}).then((function(n){e(function(e){return{type:m.P.RETENTION_POLICY_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.P.RETENTION_POLICY_FAILURE,payload:e}}(n))}))}},p=function(){return function(e){e({type:m.v.DOCUMENT_POLICY_REQUEST}),C.d.getConfig({fileNameConfig:"DOCUMENT_POLICY"}).then((function(n){e(function(e){return{type:m.v.DOCUMENT_POLICY_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.v.DOCUMENT_POLICY_FAILURE,payload:e}}(n))}))}},S=function(){return function(e){e({type:m.eb.USER_FILE_NAMING_CONFIG_REQUEST}),C.d.getUserConfig({fileNameConfig:"FIELD"}).then((function(n){e(function(e){return{type:m.eb.USER_FILE_NAMING_CONFIG_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.eb.USER_FILE_NAMING_CONFIG_FAILURE,payload:e}}(n))}))}},E=function(){return function(e){e({type:m.fb.USER_RETENTION_POLICY_REQUEST}),C.d.getUserConfig({fileNameConfig:"RETENTION_POLICY"}).then((function(n){e(function(e){return{type:m.fb.USER_RETENTION_POLICY_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.fb.USER_RETENTION_POLICY_FAILURE,payload:e}}(n))}))}},y=function(){return function(e){e({type:m.gb.USER_SEPARATOR_REQUEST}),C.d.getUserConfig({fileNameConfig:"SEPARATOR"}).then((function(n){e(function(e){return{type:m.gb.USER_SEPARATOR_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.gb.USER_SEPARATOR_FAILURE,payload:e}}(n))}))}},N=function(){return function(e){e({type:m.db.USER_DOCUMENT_POLICY_REQUEST}),C.d.getUserConfig({fileNameConfig:"DOCUMENT_POLICY"}).then((function(n){e(function(e){return{type:m.db.USER_DOCUMENT_POLICY_SUCCESS,payload:e}}(n))}),(function(n){e(function(e){return{type:m.db.USER_DOCUMENT_POLICY_FAILURE,payload:e}}(n))}))}},x=function(e){return function(n){n({type:m.W.SAVE_USER_CONFIG_REQUEST}),C.d.saveUserConfiguration(e).then((function(e){n(function(e){return{type:m.W.SAVE_USER_CONFIG_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.W.SAVE_USER_CONFIG_FAILURE,payload:e}}(e))})).finally((function(){return n({type:m.W.SAVE_USER_CONFIG_RESET})}))}},v=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(r.useRef)(document.title);Object(r.useEffect)((function(){document.title=e}),[e]),Object(r.useEffect)((function(){return function(){n||(document.title=t.current)}}),[])},R=t(32),U=t(132),I=t(40),T=t(2);n.default=function(){var e=["CAN","DT","PC"],n=["CIDSC","DT","CAN","PC"],t=Object(R.useToasts)().addToast;v("Document General Configuration");var a=Object(d.b)(),O=Object(r.useRef)(),m=Object(r.useRef)(),P=Object(r.useRef)(),L=Object(r.useRef)(),D=Object(r.useRef)(),F=Object(r.useState)("KBF"),A=Object(o.a)(F,2),k=A[0],V=A[1],w=Object(r.useState)([]),G=Object(o.a)(w,2),Y=G[0],M=G[1],q=Object(r.useState)(null),Q=Object(o.a)(q,2),B=Q[0],J=Q[1],K=Object(r.useState)({}),W=Object(o.a)(K,2),z=W[0],Z=W[1],X=Object(r.useState)(!1),H=Object(o.a)(X,2),$=H[0],ee=H[1],ne=Object(r.useState)([{keycode:"KBF",keyvalue:"Keep Both Files"},{keycode:"RE",keyvalue:"Replace Existing"}]),te=Object(o.a)(ne,2),ae=te[0],ce=(te[1],Object(r.useState)(60)),ie=Object(o.a)(ce,2),oe=ie[0],re=ie[1],le=Object(d.c)((function(e){return{dataConjunction:e.fileNameConfig.conjunction.data,isLoading:e.fileNameConfig.conjunction.loading,dataFieldOptions:e.fileNameConfig.fieldOptions.data,dataFileNamingConfig:e.fileNameConfig.fileNamingConfig.data,dataUserRetentionPolicy:e.fileNameConfig.userRetentionPolicy.data,isLoadingRetention:e.fileNameConfig.userRetentionPolicy.loading,dataUserConjunction:e.fileNameConfig.userConjunction.data,dataUserDocumentPolicy:e.fileNameConfig.userDocumentPolicy.data,isLoadingDocumentPolicy:e.fileNameConfig.userDocumentPolicy.loading,dataRetentionPolicy:e.fileNameConfig.retentionPolicy.data,dataDocumentPolicy:e.fileNameConfig.documentPolicy.data,saveLoading:e.fileNameConfig.saveConfig.loading,saveSuccess:e.fileNameConfig.saveConfig.success,saveError:e.fileNameConfig.saveConfig.error}})),se=le.dataConjunction,ue=le.isLoading,fe=le.dataFieldOptions,de=le.dataFileNamingConfig,je=le.dataUserRetentionPolicy,Oe=le.isLoadingRetention,be=le.dataUserConjunction,me=le.dataRetentionPolicy,Ce=(le.dataDocumentPolicy,le.dataUserDocumentPolicy),he=le.isLoadingDocumentPolicy,ge=(le.saveLoading,le.saveSuccess),_e=le.saveError;Object(r.useEffect)((function(){je&&re(je?je.configValSelectedCode:me.defaultValue),Ce&&V(Ce?Ce.configValSelectedCode:"KBF")}),[je,Ce]),Object(r.useEffect)((function(){var e=C.l.getUser();J(e.recordSource);var n={};n="Client"===e.recordSource||"Equabli"===e.recordSource?{1:"CAN",2:"DT",3:"PC",4:null,5:null,6:null}:{1:"CIDSC",2:"DT",3:"CAN",4:"PC",5:null,6:null,7:null},Z(n),a(S()),a(g()),a(h()),a(p()),a(_()),a(E()),a(y()),a(N())}),[]),Object(r.useEffect)((function(){fe.length>0&&pe()}),[fe,de]),Object(r.useEffect)((function(){ge&&t(Object(U.a)("","FILE_NAME_CONFIGURATION_SAVED_SUCCESS",""),{appearance:"success",autoDismiss:!0}),_e&&t(Object(U.a)("error","User Configuration","Save"),{appearance:"error",autoDismiss:!1})}),[ge,_e]);var pe=function(){var e=Object(i.a)(c.a.mark((function e(){var n,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.d.handleDefaultAndSavedSelection(fe,de,B,z);case 2:n=e.sent,t=n.fieldFinal,a=n.selectionFinal,M(t),Z(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(i.a)(c.a.mark((function e(n,t){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.assign({},z),i=null,"down"===t?(i=a[n],a[n]=a[n+1],a[n+1]=i):(i=a[n],a[n]=a[n-1],a[n-1]=i),Z(a);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ee=function(e,n){e.preventDefault();var t=[];if("config"===n){var c=O.current,i=c.conjunction,o=c.field_1,r=c.field_2,l=c.field_3,s=c.field_4,u=c.field_5,f=c.field_6,d=c.field_7;t.push({configShortCode:"SEPARATOR",configValShortCode:i.value}),o.value&&t.push({configShortCode:"field1",configValShortCode:o.value}),r.value&&t.push({configShortCode:"field2",configValShortCode:r.value}),l.value&&t.push({configShortCode:"field3",configValShortCode:l.value}),s.value&&t.push({configShortCode:"field4",configValShortCode:s.value}),u.value&&t.push({configShortCode:"field5",configValShortCode:u.value}),f.value&&t.push({configShortCode:"field6",configValShortCode:f.value}),d&&d.value&&t.push({configShortCode:"field7",configValShortCode:d.value})}else if("retention"===n){if(Number(oe)<60||Number(oe)>365)return void ee(!0);ee(!1),t.push({configShortCode:"RP",configValShortCode:oe,orgTypeCode:"CT"})}else"mode"===n&&t.push({configShortCode:"DP",configValShortCode:k,orgTypeCode:"CT"});a(x(t))},ye=function(){var e=Object(i.a)(c.a.mark((function e(n,t){var a,o,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"config"===t?(a={},a="Client"===B||"Equabli"===B?{1:"CAN",2:"DT",3:"PC",4:null,5:null,6:null}:{1:"CIDSC",2:"DT",3:"CAN",4:"PC",5:null,6:null,7:null},O.current.conjunction.value="_",Z(a),o=Object.values(a),r=Y.map((function(e){return-1===o.indexOf(e.shortCode)&&(e.selected=!1,e.available=!0),e})),M(r),setTimeout(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.current.click();case 1:case"end":return e.stop()}}),e)}))),100)):"retention"===t?(re(60),setTimeout((function(){L.current.click()}),0)):"mode"===t&&(V("KBF"),setTimeout((function(){D.current.click()}),0));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ne=function(t){var a=!1;return"Client"!==B&&"Equabli"!==B||-1===e.indexOf(t)?-1!==n.indexOf(t)&&(a=!0):a=!0,a};return Object(T.jsxs)(T.Fragment,{children:[ue&&Object(T.jsx)(I.d,{className:"spinner",size:50}),!ue&&Object(T.jsxs)(l.a,{style:{margin:0},className:"form_container",children:[Object(T.jsx)(s.a,{lg:3,sm:12}),Object(T.jsxs)(s.a,{lg:6,sm:12,children:[Object(T.jsx)(l.a,{children:Object(T.jsx)(s.a,{sm:12,children:Object(T.jsx)("h5",{style:{marginLeft:"1rem"},children:"File Name Configuration"})})}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsxs)(u.a,{ref:O,onSubmit:function(e){return Ee(e,"config")},children:["{}"!==JSON.stringify(be)&&Object(T.jsx)(l.a,{children:Object(T.jsx)(s.a,{lg:12,md:12,className:"no_padding",children:Object(T.jsxs)(u.a.Group,{as:s.a,className:"mb-5",children:[Object(T.jsx)(s.a,{md:12,sm:12,children:Object(T.jsx)(u.a.Control,{as:"select",name:"conjunction",defaultValue:be?be.configValSelectedCode:se.defaultValue,className:"select_custom",children:se&&se.configVals&&se.configVals.length>0&&se.configVals.map((function(e,n){return Object(T.jsx)("option",{value:e.shortCode,children:e.fieldValue},"cr_".concat(n))}))})}),Object(T.jsx)(u.a.Label,{className:"label_custom",children:"Conjunction / Concatenation Parameter"})]})})}),z&&Object.keys(z).map((function(e,n){return Object(T.jsx)(l.a,{children:Object(T.jsx)(s.a,{lg:12,md:12,className:"no_padding",children:Object(T.jsxs)(u.a.Group,{as:s.a,className:"mb-5",children:[Object(T.jsx)(s.a,{md:12,sm:12,children:Object(T.jsxs)(u.a.Control,{as:"select",name:"field_".concat(n+1),className:"select_custom",disabled:Ne(z[e]),onChange:function(e){return function(e,n){var t=Object.assign({},z);t[e]=n;var a=Object.values(t),c=Y.map((function(c){return n===c.shortCode&&(c.available=!1),n||t[e]!==c.shortCode||(c.available=!0),-1===a.indexOf(c.shortCode)&&(c.selected=!1,c.available=!0),c}));M(c),Z(t)}(n+1,e.target.value)},value:z[e]||"",children:[!z[Number(e)+1]&&Object(T.jsx)("option",{}),Y&&Y.length>0&&Y.map((function(e,n){return Object(T.jsx)("option",{disabled:!e.available,value:e.shortCode,children:e.fieldValue},"cr_".concat(n))}))]})}),Object(T.jsxs)(u.a.Label,{className:"label_custom",children:["Field ",n+1," "]}),Object(T.jsxs)("div",{className:b.a.movement_group,children:[0!==n&&z[e]&&Object(T.jsx)(j.b,{onClick:function(){return Se(n+1,"up")}}),n!==Object.keys(z).length-1&&z[e]&&z[Number(e)+1]&&Object(T.jsx)(j.a,{onClick:function(){return Se(n+1,"down")}})]})]})})},"options_".concat(n))})),Object(T.jsxs)(s.a,{sm:12,children:[Object(T.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:P,type:"submit",children:"Save"})," ",Object(T.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return ye(e,"config")},children:"Reset to Default"})]})]})]}),Object(T.jsx)(s.a,{lg:3,sm:12})]}),Object(T.jsx)("br",{}),("Client"===B||"Equabli"===B)&&Object(T.jsxs)(T.Fragment,{children:[!Oe&&Object(T.jsxs)(l.a,{style:{margin:0},className:"form_container",children:[Object(T.jsx)(s.a,{lg:3,sm:12}),Object(T.jsxs)(s.a,{lg:6,sm:12,children:[Object(T.jsx)(l.a,{children:Object(T.jsx)(s.a,{sm:12,children:Object(T.jsx)("h5",{style:{marginLeft:"1rem"},children:"Document Retention Policy"})})}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(u.a,{ref:m,onSubmit:function(e){return Ee(e,"retention")},children:Object(T.jsxs)(l.a,{children:[Object(T.jsx)(s.a,{lg:12,md:12,children:Object(T.jsxs)(u.a.Group,{as:s.a,className:"mb-4",children:[Object(T.jsxs)(l.a,{children:[Object(T.jsx)(s.a,{md:11,sm:11,children:Object(T.jsx)(u.a.Control,{className:"select_custom",type:"number",name:"retention_policy",onChange:function(e){re(e.target.value)},value:oe})}),Object(T.jsx)(s.a,{md:1,style:{display:"flex",alignItems:"center"},children:Object(T.jsx)("p",{style:{margin:0},children:"Days"})}),Object(T.jsx)("span",{style:{color:"red",marginLeft:"1rem"},children:Object(T.jsx)("small",{children:$?"Retention Policy Should be between 60 to 365 days":""})})]}),Object(T.jsx)(u.a.Label,{className:"label_custom",style:{left:"10px"},children:"Retain document after closure of account till"})]})}),Object(T.jsxs)(s.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(T.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:L,type:"submit",children:"Save"})," ",Object(T.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return ye(e,"retention")},children:"Reset to Default"})]})]})})]}),Object(T.jsx)(s.a,{lg:3,sm:12})]}),Object(T.jsx)("br",{}),!he&&Object(T.jsxs)(l.a,{style:{margin:0},className:"form_container",children:[Object(T.jsx)(s.a,{lg:3,sm:12}),Object(T.jsxs)(s.a,{lg:6,sm:12,children:[Object(T.jsx)(l.a,{children:Object(T.jsx)(s.a,{sm:12,children:Object(T.jsx)("h5",{style:{marginLeft:"1rem"},children:"Other Configuration"})})}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(u.a,{onSubmit:function(e){return Ee(e,"mode")},children:Object(T.jsxs)(l.a,{children:[Object(T.jsx)(s.a,{lg:12,md:6,children:Object(T.jsxs)(u.a.Group,{as:s.a,className:"mb-4",children:[Object(T.jsx)(l.a,{children:Object(T.jsx)(s.a,{md:12,sm:12,children:ae&&ae.map((function(e,n){return Object(T.jsx)(u.a.Check,{inline:!0,type:"radio",onChange:function(e){V(e.target.value)},checked:e.keycode==k,value:e.keycode,name:"mode",label:e.keyvalue},"default-".concat(n))}))})}),Object(T.jsx)(u.a.Label,{className:"label_custom",style:{left:"10px"},children:"Incase of Document Duplication"})]})}),Object(T.jsxs)(s.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(T.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:D,type:"submit",children:"Save"})," ",Object(T.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return ye(e,"mode")},children:"Reset to Default"})]})]})})]}),Object(T.jsx)(s.a,{lg:3,sm:12})]})]})]})}}}]);