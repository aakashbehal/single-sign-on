"use strict";(self.webpackChunkequabli_front_end=self.webpackChunkequabli_front_end||[]).push([[301],{7382:function(e,n,t){var r=t(2791),s=t(129),o=t(7022),a=t(3360),i=t(184);n.Z=function(e){var n=e.onHide,t=e.show,c=e.confirmDelete,u=e.text,l=void 0===u?"Deletion":u,d=e.actionText,m=void 0===d?"Delete":d,f=e.details,h=e.type,p=(0,r.useRef)(null);return(0,r.useEffect)((function(){}),[]),(0,i.jsxs)(s.Z,{show:t,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"sm",animation:!0,children:[(0,i.jsx)(s.Z.Header,{closeButton:!0,children:(0,i.jsxs)(s.Z.Title,{id:"contained-modal-title-vcenter",children:["Confirm ",l]})}),f&&"myDocument"===h&&(0,i.jsx)(s.Z.Body,{className:"show-grid",children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)("p",{children:["Are you sure you want to delete the ",(0,i.jsx)("b",{children:f.folderName})," folder"]})})}),f&&"costConfiguration"===h&&(0,i.jsx)(s.Z.Body,{className:"show-grid",children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)("p",{children:["Are you sure you want to delete Cost Configuration for ",(0,i.jsx)("b",{children:f.documentType})]})})}),f&&"requiredDocuments"===h&&(0,i.jsx)(s.Z.Body,{className:"show-grid",children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)("p",{children:["Are you sure you want to delete Required Document Configuration for ",(0,i.jsx)("b",{children:f.productName})]})})}),f&&"sentDocumentRequest"===h&&(0,i.jsx)(s.Z.Body,{className:"show-grid",children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)("p",{children:["Are you sure you want to delete Document Request for ",(0,i.jsx)("b",{children:f.documentType})," requested from ",(0,i.jsx)("b",{children:f.requestedFrom})]})})}),f&&"receiveDocumentRequest"===h&&(0,i.jsx)(s.Z.Body,{className:"show-grid",children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)("p",{children:["Are you sure you want to delete Document Request for ",(0,i.jsx)("b",{children:f.documentType})," requested from ",(0,i.jsx)("b",{children:f.requestedFrom})]})})}),(0,i.jsxs)(s.Z.Footer,{children:[(0,i.jsx)(a.Z,{variant:"danger",ref:p,onClick:c,children:m}),(0,i.jsx)(a.Z,{variant:"dark",onClick:n,children:"Cancel"})]})]})}},7919:function(e,n,t){t.d(n,{Z:function(){return D}});var r=t(2982),s=t(885),o=t(2791),a=t(129),i=t(6149),c=t(9743),u=t(2677),l=t(2105),d=t(2576),m=t(3360),f=t(6030),h=t(4561),p=(t(8901),t(5880)),E=t(8311),S=t(1635),g=t(758),x=t(2453),y=function(e){return function(n){n({type:g.Xt.SHARE_FOLDER_REQUEST,payload:[]}),x.Gy.shareFolder(e).then((function(e){n(function(e){return{type:g.Xt.SHARE_FOLDER_SUCCESS,payload:e}}(e))}),(function(e){n({type:g.Xt.SHARE_FOLDER_FAILURE,payload:[]})})).finally((function(){n({type:g.Xt.SHARE_FOLDER_RESET})}))}},j=function(e){return function(n){n({type:g.VV.SHARE_FILE_REQUEST,payload:[]}),x.Gy.shareDocument(e).then((function(e){n(function(e){return{type:g.VV.SHARE_FILE_SUCCESS,payload:e}}(e))}),(function(e){n({type:g.VV.SHARE_FILE_FAILURE,payload:[]})})).finally((function(){n({type:g.VV.SHARE_FILE_RESET})}))}},Z=function(e){return function(n){n({type:g.z$.REVOKE_FILE_REQUEST,payload:[]}),x.Gy.revokeShareDocument(e).then((function(e){n(function(e){return{type:g.z$.REVOKE_FILE_SUCCESS,payload:e}}(e))}),(function(e){n({type:g.z$.REVOKE_FILE_FAILURE,payload:[]})})).finally((function(){n({type:g.z$.REVOKE_FILE_RESET})}))}},_=t(8820),b=t(184),D=function(e){var n=e.show,t=e.onHide,g=e.parentComponent,x=e.searchHandler,D=(0,o.useState)(n),v=(0,s.Z)(D,2),N=v[0],R=v[1],C=(0,f.I0)(),w=(0,o.useRef)(),T=(0,o.useState)({shareDetail:!1}),q=(0,s.Z)(T,2),A=q[0],O=q[1],F=(0,o.useState)(!1),U=(0,s.Z)(F,2),L=U[0],I=U[1],H=(0,o.useState)([]),k=(0,s.Z)(H,2),P=k[0],W=k[1],G=(0,o.useState)(null),B=(0,s.Z)(G,2),Q=B[0],z=B[1],V=(0,o.useState)([]),M=(0,s.Z)(V,2),K=M[0],Y=M[1],$=(0,f.v9)((function(e){return{users:e.users.data,loading:e.users.loading,error:e.users.error}})),X=$.users,J=$.loading;$.error;(0,o.useEffect)((function(){fe(N)}),[N,X]);var ee=(0,f.v9)((function(e){return{shareFolderLoading:e.share.shareFolderLoading,shareFolderSuccess:e.share.shareFolderSuccess,shareFolderError:e.share.shareFolderError,shareFileLoading:e.share.shareFileLoading,shareFileSuccess:e.share.shareFileSuccess,shareFileError:e.share.shareFileError,revokeFolderLoading:e.share.revokeFolderLoading,revokeFolderSuccess:e.share.revokeFolderSuccess,revokeFolderError:e.share.revokeFolderError,revokeFileLoading:e.share.revokeFileLoading,revokeFileSuccess:e.share.revokeFileSuccess,revokeFileError:e.share.revokeFileError}})),ne=ee.shareFolderLoading,te=ee.shareFolderSuccess,re=ee.shareFolderError,se=ee.shareFileLoading,oe=ee.shareFileSuccess,ae=ee.shareFileError,ie=ee.revokeFolderLoading,ce=ee.revokeFolderSuccess,ue=ee.revokeFolderError,le=ee.revokeFileLoading,de=ee.revokeFileSuccess,me=ee.revokeFileError;(0,o.useEffect)((function(){if(te||oe){var e,n=Object.assign({},N);(e=n.sharedWith).push.apply(e,(0,r.Z)(P)),w.current.clear(),I(!1),R(n),x()}}),[ne,te,re,se,oe,ae]),(0,o.useEffect)((function(){if(ce||de){var e=Object.assign({},N);e.sharedWith=e.sharedWith.filter((function(e){if(e.email!==Q)return e})),I(!1),R(e),z(null),x()}}),[ie,ce,ue,le,de,me]),(0,o.useEffect)((function(){C(S.c.getConnectedUsers())}),[]);var fe=function(e){var n=[],t=Object.assign({},e).sharedWith.map((function(e){return e.email}));X.map((function(e){return-1===t.indexOf(e.loginKey)&&n.push(e),!0})),Y(n)};return(0,b.jsxs)(a.Z,{show:n,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"lg",animation:!0,children:[(0,b.jsx)(a.Z.Header,{closeButton:!0,children:(0,b.jsxs)(a.Z.Title,{id:"contained-modal-title-vcenter",children:['Share "',(0,b.jsx)("b",{children:"".concat("myDocument"===g?N.folderName:N.documentName)}),'"']})}),(0,b.jsxs)(a.Z.Body,{className:"show-grid",children:[(0,b.jsx)(i.Z,{children:(0,b.jsx)(c.Z,{children:(0,b.jsx)(u.Z,{lg:12,md:6,className:"no_padding",children:(0,b.jsxs)(i.Z.Group,{as:u.Z,className:"mb-1 mt-4",children:[(0,b.jsx)(u.Z,{md:12,sm:12,children:(0,b.jsx)(h.pY,{isLoading:J,id:"public-methods-example",labelKey:"modifiedFirstName",multiple:!0,ref:w,allowNew:!0,newSelectionPrefix:"Not a Platform User: ",onChange:function(e){I(!0);var n=e.map((function(e){return{name:e.firstName,email:e.loginKey||e.firstName,isRegisterUser:!e.customOption,principleId:e.principleId,orgType:e.orgType,userOrgCode:e.orgCode}}));W(n)},options:K})}),(0,b.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,b.jsx)("small",{children:A.shareDetail?"At least one recipient is required ":""})}),(0,b.jsx)(i.Z.Label,{className:"label_custom white",children:"Add People"})]})})})}),(0,b.jsxs)(u.Z,{sm:12,children:[(0,b.jsx)("p",{className:E.Z.people_share_with,children:"People with Access"}),(re||ae)&&(0,b.jsx)(l.Z,{placement:"right",delay:{show:250,hide:400},overlay:(0,b.jsx)(d.Z,{id:"tooltip-error",children:"Error in fetching"}),children:(0,b.jsx)(_.CSE,{size:20,className:E.Z.details_warning})}),(!re||!ae)&&(ne||se)&&(0,b.jsx)(p._5g,{size:20,className:"spinner ".concat(E.Z.details_warning)}),N.sharedWith&&N.sharedWith.length>0&&(0,b.jsx)("ul",{className:E.Z.share_with_ul,children:N.sharedWith.map((function(e,n){return(0,b.jsxs)("li",{className:E.Z.share_with_li,children:[(0,b.jsxs)("div",{className:E.Z.share_with_div,children:[(0,b.jsxs)("div",{className:"share_With_parent",style:{marginRight:"1rem"},children:[e.profilePicture&&(0,b.jsx)("img",{src:e.profilePicture,className:"profile_pic_account",alt:""}),!e.profilePicture&&(0,b.jsx)("span",{className:"shared_with ".concat(E.Z.share_with_span_pic),children:(0,b.jsx)("span",{children:e.name.charAt(0)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:E.Z.share_with_p,children:[e.userOrgCode||e.orgCode," - ",e.name]}),(0,b.jsx)("p",{className:E.Z.share_with_p,children:e.email})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)(m.Z,{className:E.Z.share_with_button,variant:"dark",onClick:function(){return function(e){var n={};n.email=e.email,z(e.email),C(Z(n))}(e)},children:[(0,b.jsx)(p.Fuw,{size:20,style:{margin:"0 .5rem",cursor:"pointer"}}),"Revoke Access"]})})]},"li_".concat(n))}))}),N.sharedWith&&0===N.sharedWith.length&&(0,b.jsx)("p",{style:{textAlign:"center"},children:"No record Found"})]})]}),(0,b.jsx)(a.Z.Footer,{children:(0,b.jsx)(m.Z,{variant:"dark",style:{width:"100%"},disabled:!L,onClick:function(){var e={};e.shareDetail=P,function(e){var n=!0,t={shareDetail:!1};for(var r in e)e[r]&&""!==e[r]||(t[r]=!0),0===e.shareDetail.length&&(t.shareDetail=!0);for(var s in t)t[s]&&(n=!1);return O(t),n}(e)&&("documents"===g?(e.documentId=N.id,C(j(e))):(e.clientAccountNo=N.folderName,C(y(e))))},children:"Share"})})]})}},5857:function(e,n,t){t.r(n),t.d(n,{default:function(){return be}});var r=t(885),s=t(2791),o=t(2677),a=t(9743),i=t(3480),c=t(3637),u=t(6030),l=t(4880),d=t(7122),m=t(9126),f=t(4165),h=t(5861),p=t(1413),E=t(3360),S=t(2092),g=t(9369),x=t(8192),y=t(3619),j=t(8803),Z=t(1679),_=t(3926),b=t(7919),D=t(4663),v=t(7382),N=t(184),R=function(){var e=(0,u.I0)(),n=(0,l.k6)(),t=(0,S.e1)().addToast,i=(0,s.useState)("modifiedDate"),c=(0,r.Z)(i,2),m=c[0],R=c[1],C=(0,s.useState)("desc"),w=(0,r.Z)(C,2),T=w[0],q=w[1],A=(0,s.useState)(10),O=(0,r.Z)(A,2),F=O[0],U=O[1],L=(0,s.useState)(1),I=(0,r.Z)(L,2),H=I[0],k=I[1],P=(0,s.useState)(!1),W=(0,r.Z)(P,2),G=W[0],B=W[1],Q=(0,s.useState)([]),z=(0,r.Z)(Q,2),V=z[0],M=z[1],K=(0,s.useState)(!1),Y=(0,r.Z)(K,2),$=Y[0],X=Y[1],J=(0,s.useState)(null),ee=(0,r.Z)(J,2),ne=ee[0],te=ee[1],re=(0,s.useState)(!1),se=(0,r.Z)(re,2),oe=se[0],ae=se[1],ie=(0,s.useState)(null),ce=(0,r.Z)(ie,2),ue=ce[0],le=ce[1],de=(0,D.Z)(),me=(0,r.Z)(de,2),fe=me[0],he=me[1],pe=he.setInitObj,Ee=he.textSearch,Se=he.advanceSearch,ge=he.resetHandler,xe=(0,u.v9)((function(e){return{folders:e.myDocuments.folders.data,columns:e.myDocuments.folders.columns,totalCount:e.myDocuments.folders.totalCount,error:e.myDocuments.folders.error,loading:e.myDocuments.folders.loading,defaultColumns:e.misc.allTableColumns.data,deleteRequest:e.myDocuments.folders.deleteRequest,deleteSuccess:e.myDocuments.folders.deleteSuccess,deleteError:e.myDocuments.folders.deleteError,downloadRequest:e.myDocuments.folderDownload.loading,downloadError:e.myDocuments.folderDownload.error,downloadSuccess:e.myDocuments.folderDownload.success,downloadLinks:e.myDocuments.folderDownload.downloadLinks}})),ye=xe.folders,je=xe.columns,Ze=xe.totalCount,_e=(xe.error,xe.loading),be=xe.defaultColumns,De=(xe.deleteRequest,xe.deleteSuccess),ve=xe.deleteError,Ne=xe.downloadRequest,Re=xe.downloadError,Ce=xe.downloadSuccess,we=xe.downloadLinks;(0,s.useEffect)((function(){pe({pageSize:F,pageNumber:H,textSearch:null,sortOrder:T,sortParam:m})}),[]),(0,s.useEffect)((function(){null!==fe&&qe(F,H)}),[fe,m,T]),(0,s.useEffect)((function(){if(!_e&&0===je.length&&be&&be.length>0){var e=be.filter((function(e){if("documentFolder"===e.tableName)return e}));M(e[0].attributeNodeKey)}else M(je)}),[je]),(0,s.useEffect)((function(){De&&(t((0,Z.t)("success","deleted","Document"),{appearance:"success",autoDismiss:!0}),ae(!1),qe(F,H)),ve&&t((0,Z.t)("error","deleting","document"),{appearance:"error",autoDismiss:!1})}),[De,ve]),(0,s.useEffect)((function(){!Ne&&Ce&&we&&(we.map((function(e){(0,j.f2)(e)})),e(y.p.restDownloadFolder()))}),[Ne,Re,Ce,we]);var Te=function(e){n.push({pathname:"/documents/document_list",search:"account_id=".concat(e.folderName)})},qe=function(n,t){fe=(0,p.Z)((0,p.Z)({},fe),{},{pageSize:n,pageNumber:t,sortParam:m,sortOrder:T}),e(y.p.getMyDocumentFolders(fe)),X(!1)},Ae=function(){var n=(0,h.Z)((0,f.Z)().mark((function n(t){return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(y.p.downloadFolder([t.folderName]));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.Z,{sm:12,children:[(0,N.jsxs)(a.Z,{children:[(0,N.jsx)(_.Z,{parentComponent:"myDocuments",Styles:d.Z,showAdvanceSearch:$,setShowAdvanceSearch:function(e){return X(e)},textSearchHook:Ee,searchObj:fe,advanceSearchHook:Se,resetHandlerHook:ge}),(0,N.jsx)(o.Z,{md:2,sm:2,children:(0,N.jsx)(E.Z,{variant:"dark",style:{width:"100%"},onClick:function(){return B(!0)},children:"Upload Document"})})]}),(0,N.jsx)("br",{})]}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(g.Z,{data:ye,isLoading:_e,map:{folderName:"Name",fileSize:"Size",modifiedDate:"Modified Date",shareDate:"Shared Date",receiveDate:"Received Date",shareBy:"Shared By",sharedWith:"Shared With"},totalCount:Ze,actionArray:["folderName"],handleNavigate:function(e,n){return Te(e)},currencyColumns:[],sortElement:function(e){return R(e)},sortType:function(e){return q(e)},currentPage:H,setCurrentPage:k,parentComponent:"myDocuments",searchCriteria:{},hideShareArray:V,addEditArray:{download:function(e){return Ae(e)},share:function(e){return te(e)},view:function(e){return Te(e)},delete:function(e){return le(e),void ae(!0)}},onPaginationChange:function(e,n){return function(e,n){U(e),qe(e,n)}(e,n)}})}),oe&&(0,N.jsx)(v.Z,{show:oe,onHide:function(){return ae(!1)},confirmDelete:function(){e(y.p.deleteFolder(ue.folderName))},details:ue,type:"myDocument"}),G&&(0,N.jsx)(x.Z,{show:G,onHide:function(){return B(!1)},accountId:123,Styles:d.Z,parentComponent:"myDocument",search:qe}),ne&&(0,N.jsx)(b.Z,{show:ne,parentComponent:"myDocument",searchHandler:function(){return qe(F,H)},onHide:function(){return te(null)}})]})},C=t(758),w=t(2453),T=function(e){return function(n){n({type:C.qC.GET_RECEIVE_DOCUMENT_REQUEST_REQUEST}),w._E.getReceiveDocumentRequest(e).then((function(e){n(function(e){return{type:C.qC.GET_RECEIVE_DOCUMENT_REQUEST_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:C.qC.GET_RECEIVE_DOCUMENT_REQUEST_FAILURE,payload:e}}(e))}))}},q=function(e){return function(n){n({type:C.fb.DELETE_RECEIVE_DOCUMENT_REQUEST_REQUEST}),w._E.deleteReceiveDocumentRequest(e).then((function(e){n(function(e){return{type:C.fb.DELETE_RECEIVE_DOCUMENT_REQUEST_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:C.fb.DELETE_RECEIVE_DOCUMENT_REQUEST_FAILURE,payload:e}}(e))})).finally((function(){return n({type:C.fb.DELETE_RECEIVE_DOCUMENT_REQUEST_RESET})}))}},A=t(7665),O=t(3363),F=t(7445),U=function(){var e=(0,u.I0)(),n=(0,S.e1)().addToast,t=(0,s.useState)(!1),i=(0,r.Z)(t,2),c=i[0],l=i[1],m=(0,s.useState)("requestDate"),y=(0,r.Z)(m,2),b=y[0],R=y[1],C=(0,s.useState)("desc"),w=(0,r.Z)(C,2),U=w[0],L=w[1],I=(0,s.useState)(10),H=(0,r.Z)(I,2),k=H[0],P=H[1],W=(0,s.useState)(1),G=(0,r.Z)(W,2),B=G[0],Q=G[1],z=(0,s.useState)(!1),V=(0,r.Z)(z,2),M=V[0],K=V[1],Y=(0,s.useState)(!1),$=(0,r.Z)(Y,2),X=$[0],J=$[1],ee=(0,s.useState)(null),ne=(0,r.Z)(ee,2),te=ne[0],re=ne[1],se=(0,s.useState)(!1),oe=(0,r.Z)(se,2),ae=oe[0],ie=oe[1],ce=(0,s.useState)(null),ue=(0,r.Z)(ce,2),le=ue[0],de=ue[1],me=(0,s.useState)([]),fe=(0,r.Z)(me,2),he=fe[0],pe=fe[1],Ee=(0,D.Z)(),Se=(0,r.Z)(Ee,2),ge=Se[0],xe=Se[1],ye=xe.setInitObj,je=xe.textSearch,Ze=xe.advanceSearch,_e=xe.resetHandler,be=(0,u.v9)((function(e){return{receiveDocumentRequests:e.receiveDocumentRequest.data,totalCount:e.receiveDocumentRequest.totalCount,columns:e.receiveDocumentRequest.columns,loading:e.receiveDocumentRequest.loading,error:e.receiveDocumentRequest.error,downloadRequest:e.receiveDocumentRequest.downloadRequest,downloadRequestSuccess:e.receiveDocumentRequest.downloadRequestSuccess,downloadRequestError:e.receiveDocumentRequest.downloadRequestError,deleteRequest:e.receiveDocumentRequest.deleteRequest,deleteRequestSuccess:e.receiveDocumentRequest.deleteRequestSuccess,deleteRequestError:e.receiveDocumentRequest.deleteRequestError,defaultColumns:e.misc.allTableColumns.data}})),De=be.receiveDocumentRequests,ve=be.totalCount,Ne=be.columns,Re=be.loading,Ce=(be.error,be.downloadRequest,be.downloadRequestSuccess,be.downloadRequestError,be.deleteRequest,be.deleteRequestSuccess),we=be.deleteRequestError,Te=be.defaultColumns;(0,s.useEffect)((function(){ye({pageSize:k,pageNumber:B,textSearch:null,sortOrder:U,sortParam:b})}),[]),(0,s.useEffect)((function(){null!==ge&&qe(k,B)}),[ge,b,U]),(0,s.useEffect)((function(){if(!Re&&0===Ne.length&&Te&&Te.length>0){var e=Te.filter((function(e){if("documentFolder"===e.tableName)return e}));pe(e[0].columnNames)}else pe(Ne)}),[Ne]),(0,s.useEffect)((function(){Ce&&(n((0,Z.t)("success","deleted","Required Documents"),{appearance:"success",autoDismiss:!0}),K(!1),qe(k,B)),we&&n((0,Z.t)("error","deleting","required Documents"),{appearance:"error",autoDismiss:!1})}),[Ce,we]);var qe=function(n,t){ge=(0,p.Z)((0,p.Z)({},ge),{},{pageSize:n,pageNumber:t,sortParam:b,sortOrder:U}),e(T(ge)),l(!1)},Ae=function(){var t=(0,h.Z)((0,f.Z)().mark((function t(r){return(0,f.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n((0,Z.t)("info","DOWNLOAD_STARTED",""),{appearance:"info",autoDismiss:!0}),t.next=3,(0,j.Ce)(r);case 3:e(F.w.saveDownloadHistory([r.documentId])),n((0,Z.t)("info","DOWNLOAD_SUCCESSFUL",""),{appearance:"success",autoDismiss:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Oe=function(){qe(k,B),e(A.N.reRender())};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.Z,{sm:12,children:[(0,N.jsxs)(a.Z,{children:[(0,N.jsx)(_.Z,{parentComponent:"receiveDocumentRequest",Styles:d.Z,showAdvanceSearch:c,setShowAdvanceSearch:function(e){return l(e)},textSearchHook:je,searchObj:ge,advanceSearchHook:Ze,resetHandlerHook:_e}),(0,N.jsx)(o.Z,{md:2,sm:2,children:(0,N.jsx)(E.Z,{variant:"dark",style:{width:"100%"},onClick:function(){return J(!0)},children:"Fulfill Bulk Request"})})]}),(0,N.jsx)("br",{})]}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(g.Z,{data:De,isLoading:Re,map:{documentType:"Requested Document",originalAccountNumber:"Original Account Number",equabliAccountNumber:"Equabli Account Number",clientAccountNumber:"Client Account Number",requestDate:"Requested Date",dueDate:"Due Date",fulfillmentDate:"Fulfillment Date",fileName:"Document Name",requestedFrom:"Requested By"},totalCount:ve,actionArray:[],handleNavigate:function(){},currencyColumns:[],sortElement:function(e){return R(e)},sortType:function(e){return L(e)},currentPage:B,setCurrentPage:Q,parentComponent:"receiveDocumentRequest",searchCriteria:{},hideShareArray:he,addEditArray:{download:function(e){return Ae(e)},upload:function(e){re(e),J(!0)},delete:function(e){return re(e),void K(!0)},viewDocument:function(e){ie(!0),de(e)}},onPaginationChange:function(e,n){return function(e,n){P(e),qe(e,n)}(e,n)}})}),X&&(0,N.jsx)(x.Z,{show:X,onHide:function(){return J(!1)},accountId:123,Styles:d.Z,parentComponent:"receiveDocumentRequest",search:function(){return Oe()},details:te}),M&&(0,N.jsx)(v.Z,{show:M,onHide:function(){return K(!1)},confirmDelete:function(){return e(q(te.id)),void e(A.N.reRender())},details:te,type:"receiveDocumentRequest"}),ae&&(0,N.jsx)(O.Z,{show:ae,onHide:function(){return ie(!1)},documentData:le})]})},L=t(4561),I=t(129),H=t(7022),k=t(6149),P=(t(8901),function(e){return function(n){n({type:C.ev.GET_SENT_DOCUMENT_REQUEST_REQUEST}),w.CN.getSentDocumentRequest(e).then((function(e){n(function(e){return{type:C.ev.GET_SENT_DOCUMENT_REQUEST_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:C.ev.GET_SENT_DOCUMENT_REQUEST_FAILURE,payload:e}}(e))}))}}),W=function(e){return function(n){n({type:C.Z2.SENT_DOCUMENT_REQUEST_REQUEST}),w.CN.sentDocumentRequest(e).then((function(e){n(function(e){return{type:C.Z2.SENT_DOCUMENT_REQUEST_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:C.Z2.SENT_DOCUMENT_REQUEST_FAILURE,payload:e}}(e))})).finally((function(){return n({type:C.Z2.SENT_DOCUMENT_REQUEST_RESET})}))}},G=function(e){return function(n){n({type:C.KA.DELETE_DOCUMENT_REQUEST_REQUEST}),w.CN.deleteDocumentRequest(e).then((function(e){n(function(e){return{type:C.KA.DELETE_DOCUMENT_REQUEST_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:C.KA.DELETE_DOCUMENT_REQUEST_FAILURE,payload:e}}(e))})).finally((function(){return n({type:C.KA.DELETE_DOCUMENT_REQUEST_RESET})}))}},B=t(6196),Q=function(e){var n=e.show,t=e.onHide,i=e.dispatch,c=(0,s.useRef)(),l=(0,s.useRef)(),m=(0,s.useState)([]),f=(0,r.Z)(m,2),h=(f[0],f[1],(0,s.useState)([])),p=(0,r.Z)(h,2),S=p[0],g=p[1],x=(0,s.useState)({sendRequests:!1,originalAccountNumber:!1,clientAccountNumber:!1,docTypeCode:!1}),y=(0,r.Z)(x,2),j=y[0],Z=y[1],_=(0,u.v9)((function(e){return{users:e.users.data,loading:e.users.loading,error:e.users.error,clientAccountNumbers:e.misc.clientAccountNumbers.data}})),b=_.users,D=_.loading,v=(_.error,_.clientAccountNumbers),R=function(e){e.preventDefault();var n=l.current,t=n.originalAccountNumber,r=n.clientAccountNumber,s=n.document_type;console.log(s.value);var o={sendRequests:S,originalAccountNumber:t.value,clientAccountNumber:r.value,docTypeCode:s.value};(function(e){var n=!0,t={sendRequests:!1,originalAccountNumber:!1,clientAccountNumber:!1,docTypeCode:!1};for(var r in e)e[r]&&""!==e[r]||(t[r]=!0),0===e.sendRequests.length&&(t.sendRequests=!0);for(var s in t)t[s]&&(n=!1);return Z(t),n})(o)&&i(W(o))};return(0,N.jsxs)(I.Z,{show:n,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"xl",animation:!0,children:[(0,N.jsx)(I.Z.Header,{closeButton:!0,children:(0,N.jsx)(I.Z.Title,{id:"contained-modal-title-vcenter",children:"Request New Document"})}),(0,N.jsx)(I.Z.Body,{className:"show-grid",children:(0,N.jsx)(H.Z,{className:d.Z.center_document,children:(0,N.jsxs)(k.Z,{ref:l,onSubmit:function(e){return R(e)},children:[(0,N.jsx)("br",{}),(0,N.jsx)(a.Z,{children:(0,N.jsx)(o.Z,{lg:12,md:12,className:"no_padding",children:(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4",children:[(0,N.jsx)(o.Z,{md:12,sm:12,children:(0,N.jsx)(L.pY,{isLoading:D,id:"public-methods-example",labelKey:"modifiedFirstName",multiple:!0,ref:c,allowNew:!0,newSelectionPrefix:"Not a Platform User: ",onChange:function(e){var n=e.map((function(e){return e.customOption?e.modifiedFirstName:e.loginKey}));g(n)},options:b})}),(0,N.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,N.jsx)("small",{children:j.sendRequests?"At least one recipient is required ":""})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Send Request To"})]})})}),(0,N.jsx)(a.Z,{children:(0,N.jsx)(o.Z,{lg:12,md:12,className:"no_padding",children:(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4",children:[(0,N.jsx)(o.Z,{md:12,sm:12,children:(0,N.jsx)(k.Z.Control,{type:"text",name:"originalAccountNumber"})}),(0,N.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,N.jsx)("small",{children:j.originalAccountNumber?"Original Account Number is required ":""})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Original Account Number"})]})})}),(0,N.jsx)(a.Z,{children:(0,N.jsx)(o.Z,{lg:12,md:12,className:"no_padding",children:(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4 ",children:[(0,N.jsx)(o.Z,{md:12,sm:12,children:(0,N.jsxs)(k.Z.Control,{as:"select",name:"clientAccountNumber",className:"select_custom white",children:[(0,N.jsx)("option",{value:""}),v&&v.length>0&&v.map((function(e,n){return(0,N.jsx)("option",{value:e,children:e},"cr_".concat(n))}))]})}),(0,N.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,N.jsx)("small",{children:j.clientAccountNumber?"Client Account Number is required":""})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Client Account Number"})]})})}),(0,N.jsx)(a.Z,{children:(0,N.jsx)(o.Z,{lg:12,md:12,children:(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4",children:[(0,N.jsx)(o.Z,{md:12,sm:12,className:"no_padding",children:(0,N.jsx)(B.Z,{})}),(0,N.jsx)("span",{style:{color:"red"},children:(0,N.jsx)("small",{children:j.docTypeCode?"Document Type is required":""})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Document Type"})]})})}),(0,N.jsxs)(o.Z,{className:d.Z.button_center,children:[(0,N.jsx)(E.Z,{variant:"dark",type:"submit",style:{width:"100%"},children:"Request"})," "]})]})})})]})},z=function(){var e=(0,u.I0)(),n=(0,s.useRef)(),t=(0,S.e1)().addToast,i=(0,s.useState)(!1),c=(0,r.Z)(i,2),l=c[0],m=c[1],y=(0,s.useState)("id"),b=(0,r.Z)(y,2),R=b[0],C=b[1],w=(0,s.useState)("desc"),T=(0,r.Z)(w,2),q=T[0],U=T[1],L=(0,s.useState)(10),I=(0,r.Z)(L,2),H=I[0],k=I[1],W=(0,s.useState)(1),B=(0,r.Z)(W,2),z=B[0],V=B[1],M=(0,s.useState)(!1),K=(0,r.Z)(M,2),Y=K[0],$=K[1],X=(0,s.useState)(!1),J=(0,r.Z)(X,2),ee=J[0],ne=J[1],te=(0,s.useState)(!1),re=(0,r.Z)(te,2),se=re[0],oe=re[1],ae=(0,s.useState)(null),ie=(0,r.Z)(ae,2),ce=ie[0],ue=ie[1],le=(0,s.useState)(!1),de=(0,r.Z)(le,2),me=de[0],fe=de[1],he=(0,s.useState)(null),pe=(0,r.Z)(he,2),Ee=pe[0],Se=pe[1],ge=(0,s.useState)([]),xe=(0,r.Z)(ge,2),ye=xe[0],je=xe[1],Ze=(0,D.Z)(),_e=(0,r.Z)(Ze,2),be=_e[0],De=_e[1],ve=De.setInitObj,Ne=De.textSearch,Re=De.advanceSearch,Ce=De.resetHandler,we=(0,u.v9)((function(e){return{sentDocumentRequests:e.sentDocumentRequest.data,totalCount:e.sentDocumentRequest.totalCount,columns:e.sentDocumentRequest.columns,loading:e.sentDocumentRequest.loading,error:e.sentDocumentRequest.error,sendRequest:e.sentDocumentRequest.sendRequest,sendRequestSuccess:e.sentDocumentRequest.sendRequestSuccess,sendRequestError:e.sentDocumentRequest.sendRequestError,deleteRequest:e.sentDocumentRequest.deleteRequest,deleteRequestSuccess:e.sentDocumentRequest.deleteRequestSuccess,deleteRequestError:e.sentDocumentRequest.deleteRequestError,defaultColumns:e.misc.allTableColumns.data}})),Te=we.sentDocumentRequests,qe=we.totalCount,Ae=we.columns,Oe=we.loading,Fe=(we.error,we.sendRequest,we.sendRequestSuccess),Ue=we.sendRequestError,Le=(we.deleteRequest,we.deleteRequestSuccess),Ie=we.deleteRequestError,He=we.defaultColumns;(0,s.useEffect)((function(){ve({pageSize:H,pageNumber:z,textSearch:null,sortOrder:q,sortParam:R})}),[]),(0,s.useEffect)((function(){null!==be&&ke(H,z)}),[be,R,q]),(0,s.useEffect)((function(){if(!Oe&&0===Ae.length&&He&&He.length>0){var e=He.filter((function(e){if("documentFolder"===e.tableName)return e}));je(e[0].columnNames)}else je(Ae)}),[Ae]),(0,s.useEffect)((function(){Fe&&(t((0,Z.t)("success","Sent","Document Request"),{appearance:"success",autoDismiss:!0}),ne(!1),ke(H,z),setTimeout((function(){e(A.N.reRender())}),1e3)),Ue&&t((0,Z.t)("error","sending","document request"),{appearance:"error",autoDismiss:!1}),Le&&(t((0,Z.t)("success","deleted","Required Documents"),{appearance:"success",autoDismiss:!0}),oe(!1),ke(H,z),e(A.N.reRender())),Ie&&t((0,Z.t)("error","deleting","required Documents"),{appearance:"error",autoDismiss:!1})}),[Fe,Ue,Le,Ie]);var ke=function(n,t){be=(0,p.Z)((0,p.Z)({},be),{},{pageSize:n,pageNumber:t,sortParam:R,sortOrder:q}),e(P(be)),m(!1)},Pe=function(){var n=(0,h.Z)((0,f.Z)().mark((function n(r){return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((0,Z.t)("info","DOWNLOAD_STARTED",""),{appearance:"info",autoDismiss:!0}),n.next=3,(0,j.Ce)(r);case 3:e(F.w.saveDownloadHistory([r.documentId])),t((0,Z.t)("info","DOWNLOAD_SUCCESSFUL",""),{appearance:"success",autoDismiss:!0});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("a",{href:"",ref:n,target:"_blank"}),(0,N.jsxs)(o.Z,{sm:12,children:[(0,N.jsxs)(a.Z,{children:[(0,N.jsx)(_.Z,{parentComponent:"sentDocumentRequest",Styles:d.Z,showAdvanceSearch:l,setShowAdvanceSearch:function(e){return m(e)},textSearchHook:Ne,searchObj:be,advanceSearchHook:Re,resetHandlerHook:Ce}),(0,N.jsx)(o.Z,{md:2,sm:2,children:(0,N.jsx)(E.Z,{variant:"dark",style:{width:"100%"},onClick:function(){return $(!0)},children:"Import Bulk Request"})}),(0,N.jsx)(o.Z,{md:2,sm:2,children:(0,N.jsx)(E.Z,{variant:"dark",style:{width:"100%"},onClick:function(){return ne(!0)},children:"Request New Document"})})]}),(0,N.jsx)("br",{})]}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(g.Z,{data:Te,isLoading:Oe,map:{documentType:"Requested Document",originalAccountNumber:"Original Account Number",equabliAccountNumber:"Equabli Account Number",clientAccountNumber:"Client Account Number",requestDate:"Requested Date",dueDate:"Due Date",fulfillmentDate:"Fulfillment Date",fileName:"File Name",requestedFrom:"Requested From"},totalCount:qe,actionArray:[],handleNavigate:function(){},currencyColumns:[],sortElement:function(e){return C(e)},sortType:function(e){return U(e)},currentPage:z,setCurrentPage:V,parentComponent:"sentDocumentRequest",searchCriteria:{},hideShareArray:ye,addEditArray:{download:function(e){return Pe(e)},delete:function(e){return ue(e),void oe(!0)},viewDocument:function(e){fe(!0),Se(e)}},onPaginationChange:function(e,n){return function(e,n){k(e),ke(e,n)}(e,n)}})}),ee&&(0,N.jsx)(Q,{show:ee,onHide:function(){return ne(!1)},dispatch:e}),Y&&(0,N.jsx)(x.Z,{show:Y,onHide:function(){return $(!1)},accountId:123,Styles:d.Z,parentComponent:"sentDocumentRequest",search:ke}),se&&(0,N.jsx)(v.Z,{show:se,onHide:function(){return oe(!1)},confirmDelete:function(){e(G(ce.id))},details:ce,type:"sentDocumentRequest"}),me&&(0,N.jsx)(O.Z,{show:me,onHide:function(){return fe(!1)},documentData:Ee})]})},V=function(){var e=(0,u.I0)(),n=(0,S.e1)().addToast,t=(0,s.useRef)(),a=(0,l.k6)(),i=(0,s.useState)(!1),c=(0,r.Z)(i,2),d=(c[0],c[1],(0,s.useState)("originalAccountNumber")),m=(0,r.Z)(d,2),p=(m[0],m[1]),E=(0,s.useState)("asc"),x=(0,r.Z)(E,2),y=(x[0],x[1]),_=(0,s.useState)(10),b=(0,r.Z)(_,2),D=b[0],v=b[1],R=(0,s.useState)(1),C=(0,r.Z)(R,2),w=C[0],T=C[1],q=(0,s.useState)(!1),A=(0,r.Z)(q,2),O=(A[0],A[1],(0,u.v9)((function(e){return{data:e.downloadHistory.data,totalCount:e.downloadHistory.totalCount,error:e.downloadHistory.error,loading:e.downloadHistory.loading,saveDownload:e.downloadHistory.saveDownload,saveDownloadSuccess:e.downloadHistory.saveDownloadSuccess,saveDownloadError:e.downloadHistory.saveDownloadError,deleteDownloadHistory:e.downloadHistory.deleteDownloadHistory,deleteDownloadHistorySuccess:e.downloadHistory.deleteDownloadHistorySuccess,deleteDownloadHistoryError:e.downloadHistory.deleteDownloadHistoryError}}))),U=O.data,L=O.totalCount,I=(O.error,O.loading),H=(O.saveDownload,O.saveDownloadSuccess,O.saveDownloadError,O.deleteDownloadHistory,O.deleteDownloadHistorySuccess),k=O.deleteDownloadHistoryError;(0,s.useEffect)((function(){P(D,w)}),[]),(0,s.useEffect)((function(){H&&(n((0,Z.t)("success","Sent","Document Request"),{appearance:"success",autoDismiss:!0}),P(D,w))}),[H,k]);var P=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(F.w.getDownloadHistory({pageSize:n,pageNumber:t}))},W=function(){var e=(0,h.Z)((0,f.Z)().mark((function e(t){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,Z.t)("info","DOWNLOAD_STARTED",""),{appearance:"info",autoDismiss:!0}),e.next=3,(0,j.Ce)(t);case 3:n((0,Z.t)("info","DOWNLOAD_SUCCESSFUL",""),{appearance:"success",autoDismiss:!0});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("a",{href:"",ref:t,target:"_blank"}),(0,N.jsx)(o.Z,{children:(0,N.jsx)(g.Z,{data:U,isLoading:I,map:{documentName:"Document Name",documentsize:"Size",downloadDate:"Download Date",downloadStatus:"Status"},totalCount:L,actionArray:["folderName"],handleNavigate:function(e,n){return function(e,n){a.push({pathname:"/documents/document_list",search:"account_id=".concat(e.folderName)})}(e)},currencyColumns:[],sortElement:function(e){return p(e)},sortType:function(e){return y(e)},currentPage:w,setCurrentPage:T,parentComponent:"downloadHistory",searchCriteria:{},hideShareArray:["documentName","documentsize","downloadDate","downloadStatus"],addEditArray:{pause:function(e){return console.log("pause Action")},download:function(e){return W(e)},delete:function(n){e(F.w.deleteDownloadHistory(n.id))}},onPaginationChange:function(e,n){return function(e,n){v(e),P(e,n)}(e,n)}})})]})},M=t(2296),K=t(5537),Y=t(9683),$=t(8081),X=t(1635),J=t(5664),ee=[{statusCode:"month",status:"Current Month"},{statusCode:"year",status:"Current Year"},{statusCode:"week",status:"Current week"}],ne=function(e){var n=e.searchObj,t=e.setSearchObj,i=(0,u.I0)(),c=(0,s.useRef)(),l=(0,s.useState)([]),d=(0,r.Z)(l,2),m=d[0],f=d[1],h=(0,u.v9)((function(e){return{users:e.users.data,productTypes:e.types.productType.data,clientAccountNumbers:e.misc.clientAccountNumbers.data}})),p=h.users,E=h.productTypes,S=h.clientAccountNumbers;(0,s.useEffect)((function(){i(M.v.getClientAccountNumbers()),i(X.c.getConnectedUsers()),i(J.D.getProductTypes()),f(ee)}),[]);var g=function(e,r){var s=Object.assign({},n);s[e]=""===r.target.value?null:r.target.value,t(s)};return(0,N.jsx)(k.Z,{ref:c,children:(0,N.jsxs)(a.Z,{children:[(0,N.jsxs)(o.Z,{lg:6,md:12,className:"no_padding",children:[(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4",children:[(0,N.jsx)(o.Z,{md:12,sm:12,className:"no_padding",children:(0,N.jsx)(k.Z.Control,{as:"select",name:"service_offered",className:"select_custom white",onChange:function(e){g("duration",e)},children:m&&m.length>0&&m.map((function(e,n){return(0,N.jsx)("option",{value:e.statusCode,children:e.status},"cr_".concat(n))}))})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Tenure"})]}),(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4 ",children:[(0,N.jsx)(o.Z,{md:12,sm:12,className:"no_padding",children:(0,N.jsxs)(k.Z.Control,{as:"select",name:"service_offered",className:"select_custom white",onChange:function(e){g("portfolio",e)},children:[(0,N.jsx)("option",{value:"",children:"All Portfolios"}),S&&S.length>0&&S.map((function(e,n){return(0,N.jsx)("option",{value:e,children:e},"cr_".concat(n))}))]})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Portfolio"})]})]}),(0,N.jsxs)(o.Z,{lg:6,md:12,className:"no_padding",children:[(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4 ",children:[(0,N.jsx)(o.Z,{md:12,sm:12,className:"no_padding",children:(0,N.jsxs)(k.Z.Control,{as:"select",name:"service_offered",className:"select_custom white",onChange:function(e){g("product",e)},children:[(0,N.jsx)("option",{value:"",children:"All Products"}),E&&E.length>0&&E.map((function(e,n){return(0,N.jsx)("option",{value:e.shortName,children:e.fullName},"cr_".concat(n))}))]})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Products"})]}),(0,N.jsxs)(k.Z.Group,{as:o.Z,className:"mb-4 ",children:[(0,N.jsx)(o.Z,{md:12,sm:12,className:"no_padding",children:(0,N.jsxs)(k.Z.Control,{as:"select",name:"service_offered",className:"select_custom white",onChange:function(e){g("userId",e)},children:[(0,N.jsx)("option",{value:"",children:"All Users"}),p&&p.length>0&&p.map((function(e,n){return(0,N.jsxs)("option",{value:e.principleId,children:[e.firstName," ",e.lastName]},"cr_".concat(n))}))]})}),(0,N.jsx)(k.Z.Label,{className:"label_custom white",children:"Users"})]})]})]})})},te=t(5880),re=function(e){return function(n){n({type:C.i6.GET_INVOICE_REQUEST,payload:[]}),w.z4.GetInvoices(e).then((function(e){n(function(e){return{type:C.i6.GET_INVOICE_SUCCESS,payload:e}}(e))}),(function(e){n({type:C.i6.GET_INVOICE_FAILURE,payload:[]})}))}},se=t(919);K.kL.register(K.qi,K.u,K.De,$.Z);var oe={responsive:!0,maintainAspectRatio:!1,cutout:70,layout:{padding:20},plugins:{datalabels:{color:"white",padding:6,font:{weight:"bold",size:"12px",family:"'VisbyCF-Regular', Arial, Helvetica, sans-serif"}},legend:{position:"bottom"}}},ae={labels:["Fulfilled","Open","Overdue"],datasets:[{label:"Total",data:[],backgroundColor:["#53d591","rgba(255, 206, 86, 1)","#FF7765"],borderColor:["#53d591","rgba(255, 206, 86, 1)","#FF7765"],borderWidth:1}]},ie={labels:["Fulfilled","Open","Overdue"],datasets:[{label:"Total",data:[],backgroundColor:["#53d591","rgba(255, 206, 86, 1)","#FF7765"],borderColor:["#53d591","rgba(255, 206, 86, 1)","#FF7765"],borderWidth:1}]},ce=function(e){var n=e.collapse,t=(e.clientAccountNumbers,(0,u.I0)()),i=(0,s.useState)(null),c=(0,r.Z)(i,2),l=c[0],m=c[1],f=(0,s.useState)({duration:null,product:null,portfolio:null,userId:null}),h=(0,r.Z)(f,2),p=h[0],E=h[1],S=(0,s.useState)({labels:["Fulfilled","Open","Overdue"],datasets:[{label:"Total",data:[],backgroundColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderWidth:1}]}),g=(0,r.Z)(S,2),x=g[0],y=g[1],j=(0,s.useState)({labels:["Fulfilled","Open","Overdue"],datasets:[{label:"Total",data:[],backgroundColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderWidth:1}]}),Z=(0,r.Z)(j,2),_=Z[0],b=Z[1],D=(0,u.v9)((function(e){return{requestedSummary:e.summary.requestedSummary,sentSummary:e.summary.sentSummary,errorSent:e.summary.errorSent,loadingSent:e.summary.loadingSent,loadingRequest:e.summary.loadingRequest,errorRequest:e.summary.errorRequest,reRender:e.summary.reRender}})),v=D.requestedSummary,R=D.sentSummary,C=D.errorSent,T=D.loadingSent,q=D.loadingRequest,O=D.errorRequest,F=D.reRender;(0,s.useEffect)((function(){if("{}"!==JSON.stringify(v)){delete v.total;var e=Object.values(v),n=Object.assign({},ae);n.labels=["Fulfilled","Open","Overdue"],n.datasets[0].data=e,y(n)}if("{}"!==JSON.stringify(R)){delete R.total;var t=Object.values(R),r=Object.assign({},ie);r.labels=["Fulfilled","Open","Overdue"],r.datasets[0].data=t,b(r)}}),[v,R]),(0,s.useEffect)((function(){m(w.W4.getUserType())}),[]),(0,s.useEffect)((function(){t(A.N.getSentSummary(p)),p.duration&&t(re(p.duration))}),[p]),(0,s.useEffect)((function(){F&&(b({labels:["Fulfilled","Open","Overdue"],datasets:[{label:"Total",data:[],backgroundColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderWidth:1}]}),y({labels:["Fulfilled","Open","Overdue"],datasets:[{label:"Total",data:[],backgroundColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderColor:["#53d591","rgba(255, 206, 86, 1)","#fc3f3f"],borderWidth:1}]}),t(A.N.getSentSummary({})))}),[F]);var U=(0,s.useMemo)((function(){return(0,N.jsx)(Y.$I,{data:x,options:oe,redraw:!0})}),[x]),L=(0,s.useMemo)((function(){return(0,N.jsx)(Y.$I,{data:_,options:oe,redraw:!0})}),[_]),I=function(e){return e.fullfilled+e.open+e.overDue===0};return(0,N.jsxs)(o.Z,{sm:12,className:d.Z.inner_document_summary,style:{borderWidth:n?"0":"1px",background:n?"#e9ecef":"white"},children:[(0,N.jsx)("h5",{children:"Document Requirement"}),(0,N.jsx)("br",{}),(0,N.jsx)(ne,{searchObj:p,setSearchObj:E}),(0,N.jsx)("hr",{}),(0,N.jsxs)(a.Z,{style:{maxHeight:"395px",minHeight:"395px"},children:[(0,N.jsxs)(o.Z,{sm:6,className:d.Z.chart_container,children:[(0,N.jsx)("h5",{children:"Client"!==l?"Sent Requests":"Received Requests"}),!O&&q&&!C&&T&&(0,N.jsx)(te._5g,{size:20,className:"spinner ".concat(d.Z.details_warning)}),(0,N.jsx)("div",{style:{display:"flex",alignItems:"Client"!==l||I(v)?"":"end",height:"90%",justifyContent:"center"},children:"Client"===l?(0,N.jsx)(N.Fragment,{children:!q&&(I(v)?(0,N.jsx)(se.Z,{}):U)}):(0,N.jsx)(N.Fragment,{children:!T&&(I(R)?(0,N.jsx)(se.Z,{}):L)})})]}),(0,N.jsxs)(o.Z,{sm:6,className:d.Z.chart_container,children:[(0,N.jsx)("h5",{children:"Client"!==l?"Received Requests":"Sent Requests"}),!O&&q&&!C&&T&&(0,N.jsx)(te._5g,{size:20,className:"spinner ".concat(d.Z.details_warning)}),(0,N.jsx)("div",{style:{display:"flex",alignItems:"Client"!==l||I(R)?"":"end",height:"90%",justifyContent:"center"},children:"Client"===l?(0,N.jsx)(N.Fragment,{children:!T&&(I(R)?(0,N.jsx)(se.Z,{}):L)}):(0,N.jsx)(N.Fragment,{children:!q&&(I(v)?(0,N.jsx)(se.Z,{}):U)})})]})]})]})},ue=t(2105),le=t(2576),de=t(3593),me=t(8820),fe=t(8254),he=function(e){var n=e.collapse,t=(0,u.I0)(),a=(0,l.k6)(),i=(0,s.useState)({duration:null,product:null,portfolio:null,userId:null}),c=(0,r.Z)(i,2),m=c[0],f=c[1],h=(0,u.v9)((function(e){return{documentCoverage:e.summary.documentCoverage,loadingCoverage:e.summary.loadingCoverage,errorCoverage:e.summary.errorCoverage}})),E=h.documentCoverage,S=h.loadingCoverage,g=h.errorCoverage;(0,s.useEffect)((function(){return function(){t(A.N.resetDocumentSummary())}}),[]),(0,s.useEffect)((function(){t(A.N.getDocumentCoverage(m))}),[m]);return(0,N.jsxs)(o.Z,{sm:12,className:d.Z.inner_document_summary,style:{borderWidth:n?"0":"1px",background:n?"#e9ecef":"white"},children:[(0,N.jsx)("h5",{children:"Document Coverage"}),(0,N.jsx)("br",{}),(0,N.jsx)(ne,{searchObj:m,setSearchObj:f}),(0,N.jsx)("hr",{}),g&&(0,N.jsx)(ue.Z,{placement:"right",delay:{show:250,hide:400},overlay:(0,N.jsx)(le.Z,{id:"tooltip-error",children:"Error in fetching"}),children:(0,N.jsx)(me.CSE,{size:20,className:d.Z.details_warning})}),(0,N.jsxs)(o.Z,{sm:12,className:"no_padding ".concat(d.Z.progress_container_outer),children:[!g&&S&&(0,N.jsx)(fe.Z,{repeats:3}),!g&&!S&&0===E.length&&(0,N.jsx)(se.Z,{}),!S&&E&&E.length>0&&E.map((function(e,n){return(0,N.jsxs)("div",{className:"".concat(d.Z.progress_container),children:[(0,N.jsx)("p",{className:d.Z.ProgressTitle,children:(0,N.jsx)("b",{children:e.title})}),(0,N.jsx)(de.Z,{className:d.Z.progressbar,now:e.percentage,label:"".concat(e.percentage,"% ")}),(0,N.jsxs)("p",{className:d.Z.ProgressDesc,children:[(0,N.jsx)("span",{className:d.Z.clickable,onClick:function(){return function(e){var n=(0,p.Z)((0,p.Z)({},m),e),t=new URLSearchParams(n).toString();a.push({pathname:"/documents/accounts_documents",search:t})}(e)},children:e.complete})," out of ",(0,N.jsx)("b",{children:e.total})," accounts has ",(0,N.jsx)("b",{children:e.documentType})]}),(0,N.jsx)("hr",{})]},"dC_".concat(n))}))]})]})},pe=function(){return function(e){e({type:C.Wd.GET_SUBSCRIPTION_REQUEST,payload:[]}),w.AB.GetSubscriptions().then((function(n){e(function(e){return{type:C.Wd.GET_SUBSCRIPTION_SUCCESS,payload:e}}(n))}),(function(n){e({type:C.Wd.GET_SUBSCRIPTION_FAILURE,payload:[]})}))}},Ee=function(){return function(e){e({type:C.lX.GET_USER_SUBSCRIPTION_REQUEST,payload:[]}),w.AB.GetUserSubscriptions().then((function(n){e(function(e){return{type:C.lX.GET_USER_SUBSCRIPTION_SUCCESS,payload:e}}(n))}),(function(n){e({type:C.lX.GET_USER_SUBSCRIPTION_FAILURE,payload:[]})}))}},Se=function(e){return function(n){n({type:C.AF.SELECT_SUBSCRIPTION_REQUEST,payload:[]}),w.AB.AddSubscription(e).then((function(e){n(function(e){return{type:C.AF.SELECT_SUBSCRIPTION_SUCCESS,payload:e}}(e))}),(function(e){n({type:C.AF.SELECT_SUBSCRIPTION_FAILURE,payload:[]})})).finally((function(){n({type:C.AF.SELECT_SUBSCRIPTION_RESET})}))}},ge=function(){return function(e){e({type:C.E8.GET_USAGE_REQUEST,payload:[]}),w.$J.getUsage().then((function(n){e(function(e){return{type:C.E8.GET_USAGE_SUCCESS,payload:e}}(n))}),(function(n){e({type:C.E8.GET_USAGE_FAILURE,payload:[]})}))}},xe=function(e){var n=e.show,t=e.onHide,r=(0,u.I0)(),o=(0,u.v9)((function(e){return{subscriptions:e.subscription.subscriptions.data,error:e.subscription.subscriptions.error,loading:e.subscription.subscriptions.loading,userSubscription:e.subscription.userSubscription.data,userError:e.subscription.userSubscription.error,userLoading:e.subscription.userSubscription.loading,addSubscriptionSuccess:e.subscription.addSubscription.success,addError:e.subscription.addSubscription.error,addLoading:e.subscription.addSubscription.loading}})),a=o.subscriptions,i=(o.error,o.loading,o.userSubscription),c=(o.userError,o.userLoading,o.addSubscriptionSuccess),l=o.addError,m=o.addLoading;(0,s.useEffect)((function(){c&&(f(),r(ge()))}),[c]),(0,s.useEffect)((function(){f()}),[]);var f=function(){r(Ee()),r(pe())};return(0,N.jsx)(I.Z,{show:n,onHide:t,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"lg",className:"subscription_modal",animation:!0,children:(0,N.jsx)(I.Z.Body,{className:"show-grid",style:{width:"50vw"},children:(0,N.jsx)("div",{className:"background",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsx)("div",{className:"panel pricing-table",children:a&&a.length>0&&a.map((function(e,n){return(0,N.jsxs)("div",{className:"pricing-plan",children:["BT"===e.subscriptionCode&&(0,N.jsx)("img",{src:"https://s22.postimg.cc/8mv5gn7w1/paper-plane.png",alt:"",className:"pricing-img"}),"ST"===e.subscriptionCode&&(0,N.jsx)("img",{src:"https://s28.postimg.cc/ju5bnc3x9/plane.png",alt:"",className:"pricing-img"}),"PT"===e.subscriptionCode&&(0,N.jsx)("img",{src:"https://s21.postimg.cc/tpm0cge4n/space-ship.png",alt:"",className:"pricing-img"}),(0,N.jsx)("h2",{className:"pricing-header",children:null===e||void 0===e?void 0:e.description.replace("Tier","")}),(0,N.jsx)("ul",{className:"pricing-features",children:(0,N.jsx)("li",{className:"pricing-features-item",children:e.subscriptionValue})}),!l&&m&&(0,N.jsx)("a",{className:"pricing-button",children:(0,N.jsx)(te._5g,{size:20,className:"spinner ".concat(d.Z.details_warning)})}),!m&&i.subscriptionCode===e.subscriptionCode&&(0,N.jsx)("a",{className:"pricing-button is-featured",children:"Subscribed"}),!m&&i.subscriptionCode!==e.subscriptionCode&&(0,N.jsx)("a",{className:"pricing-button",onClick:function(){return n=e.subscriptionCode,void r(Se(n));var n},children:"Subscribe"})]},"sub_".concat(n))}))})})})})})},ye=function(e){var n=e.collapse,t=(0,u.I0)(),a=(0,s.useState)(!1),i=(0,r.Z)(a,2),c=i[0],l=i[1],m=(0,u.v9)((function(e){return{used:e.usage.used,percentage:e.usage.percentage,total:e.usage.total,totalDocument:e.usage.totalDocument,loading:e.usage.loading,error:e.usage.error}})),f=m.used,h=m.percentage,p=m.total,S=m.totalDocument,g=m.loading,x=m.error;return(0,s.useEffect)((function(){t(ge())}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.Z,{className:d.Z.inner_document_summary,style:{borderWidth:n?"0":"1px",background:n?"#e9ecef":"white"},children:[(0,N.jsx)("h5",{children:"Usage"}),(0,N.jsx)("br",{}),!x&&g&&(0,N.jsx)(fe.Z,{repeats:1}),!x&&!g&&(0,N.jsx)(o.Z,{sm:12,className:"no_padding",children:(0,N.jsxs)("div",{className:d.Z.progress_container,children:[(0,N.jsx)(de.Z,{striped:!1,className:"".concat(d.Z.progressbar," ").concat(Number(h)<30?"is_low":""," "),now:h,label:"".concat(h,"%")}),(0,N.jsx)("br",{}),(0,N.jsx)("p",{children:(0,N.jsxs)("b",{children:[f.toUpperCase()," used out of ",p]})}),(0,N.jsx)("p",{children:(0,N.jsxs)("b",{children:["Total ",S," document",S>1?"s":""]})}),(0,N.jsx)(E.Z,{variant:"dark",onClick:function(){return l(!0)},children:"Upgrade Your Plan"})]})})]}),(0,N.jsx)(xe,{onHide:l,show:c})]})},je=t(4802),Ze=t.n(je),_e=function(e){var n=e.collapse,t=(0,S.e1)().addToast,r=(0,u.I0)(),a=(0,u.v9)((function(e){return{invoicing:e.invoice.data,error:e.invoice.error,loading:e.invoice.loading}})),i=a.invoicing,c=a.error,l=a.loading;(0,s.useEffect)((function(){r(re("month"))}),[]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(o.Z,{className:d.Z.inner_document_summary,style:{borderWidth:n?"0":"1px",background:n?"#e9ecef":"white"},children:[(0,N.jsx)("h5",{children:"Invoices"}),(0,N.jsx)("br",{}),!c&&l&&(0,N.jsx)(fe.Z,{repeats:1}),!c&&!l&&(0,N.jsxs)(o.Z,{sm:12,className:"no_padding",children:[(0,N.jsxs)("div",{className:d.Z.progress_container,style:{background:"#ebeaea",padding:"1rem",borderRadius:"6px",margin:0,marginBottom:"1rem"},children:[i&&i.listOfPartner&&i.listOfPartner.map((function(e,n){return(0,N.jsxs)("p",{style:{borderBottom:"2px solid white",justifyContent:"space-between",display:"flex",padding:"5px 0",margin:0},children:[(0,N.jsx)("span",{children:e.partnerName})," - ",(0,N.jsx)("span",{children:(0,N.jsxs)("b",{children:["$ ",Number(e.amountPay).toFixed(2)]})})]},"invoice_".concat(n))})),(0,N.jsxs)("h3",{style:{textAlign:"right",marginTop:"1rem"},children:["$",Number(i.costCollectByClient).toFixed(2)]})]}),(0,N.jsx)(E.Z,{variant:"dark",onClick:function(){return function(){t((0,Z.t)("info","DOWNLOAD_STARTED",""),{appearance:"info",autoDismiss:!0});var e="".concat("https://k8s-equablid-equablii-3d7f80b23b-1277713601.us-east-1.elb.amazonaws.com","/").concat("document-service/api","/user/document/cost/invoice/download");j.rF.get(e,{responseType:"arraybuffer",params:{tenure:"month"}}).then((function(e){var n=new Blob([e.data],{type:"application/pdf"});Ze()(n,"invoice.pdf")})).finally((function(){t((0,Z.t)("info","DOWNLOAD_SUCCESSFUL",""),{appearance:"success",autoDismiss:!0})}))}()},children:"Download Detailed Report"})]})]})})},be=function(e){var n=e.location,t=(0,l.k6)(),f=(0,u.I0)(),h=(0,s.useState)(!1),p=(0,r.Z)(h,2),E=p[0],S=p[1],g=(0,s.useState)(""),x=(0,r.Z)(g,2),y=x[0],j=x[1];(0,s.useEffect)((function(){f(M.v.getColumnForAllTables())}),[]),(0,s.useEffect)((function(){var e=n.pathname.split("/");j(e[e.length-1])}),[n]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.Z,{sm:12,className:"form_container",children:[(0,N.jsxs)(a.Z,{children:[(0,N.jsx)(o.Z,{sm:11,children:(0,N.jsx)("h4",{style:{marginLeft:"1rem"},children:"Document Summary"})}),(0,N.jsxs)(o.Z,{sm:1,style:{textAlign:"right",paddingRight:"2rem",cursor:"pointer"},onClick:function(){return S((function(e){return!e}))},children:[!E&&(0,N.jsx)(m.r0L,{size:20}),E&&(0,N.jsx)(m.yjz,{size:20})]})]}),(0,N.jsx)(o.Z,{sm:12,className:E?d.Z.collapse_summary:"",style:{overflowX:"scroll"},children:(0,N.jsxs)(a.Z,{style:{minWidth:"110%"},children:[(0,N.jsx)(o.Z,{sm:5,children:(0,N.jsx)(he,{collapse:E})}),(0,N.jsx)(o.Z,{sm:5,children:(0,N.jsx)(ce,{collapse:E})}),(0,N.jsxs)(o.Z,{sm:2,children:[(0,N.jsx)(ye,{collapse:E}),(0,N.jsx)(_e,{collapse:E})]})]})})]}),(0,N.jsx)("br",{}),(0,N.jsx)(o.Z,{className:"no_padding",children:(0,N.jsxs)(i.Z,{activeKey:y,id:"fill-tab-example",fill:!0,className:"mb-3",onSelect:function(e){t.push({pathname:"/documents/".concat(e)})},children:[(0,N.jsx)(c.Z,{eventKey:"my_documents",title:"My Documents",children:("my_documents"===y||"my_documents_side"===y)&&(0,N.jsx)(R,{})}),(0,N.jsx)(c.Z,{eventKey:"sent_document_requests",title:"Sent Document Requests",children:("sent_document_requests"===y||"sent_document_requests_side"===y)&&(0,N.jsx)(z,{})}),(0,N.jsx)(c.Z,{eventKey:"received_document_requests",title:"Received Document Request",children:("received_document_requests"===y||"received_document_requests_side"===y)&&(0,N.jsx)(U,{})}),(0,N.jsx)(c.Z,{eventKey:"download_history",title:"Download History",children:("download_history"===y||"download_history_side"===y)&&(0,N.jsx)(V,{})})]})})]})}},7445:function(e,n,t){t.d(n,{w:function(){return o}});var r=t(758),s=t(2453),o={getDownloadHistory:function(e){return function(n){n({type:r.oe.GET_DOWNLOAD_HISTORY_REQUEST}),s.OA.getDownloadHistory(e).then((function(e){n(function(e){return{type:r.oe.GET_DOWNLOAD_HISTORY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:r.oe.GET_DOWNLOAD_HISTORY_FAILURE,payload:e}}(e))}))}},saveDownloadHistory:function(e){return function(n){n({type:r.Fq.SAVE_DOWNLOAD_HISTORY_REQUEST}),s.OA.saveDownloadHistory(e).then((function(e){n(function(e){return{type:r.Fq.SAVE_DOWNLOAD_HISTORY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:r.Fq.SAVE_DOWNLOAD_HISTORY_FAILURE,payload:e}}(e))})).finally((function(){return n({type:r.Fq.SAVE_DOWNLOAD_HISTORY_RESET})}))}},deleteDownloadHistory:function(e){return function(n){n({type:r.wA.DELETE_DOWNLOAD_HISTORY_REQUEST}),s.OA.deleteDownloadHistory(e).then((function(e){n(function(e){return{type:r.wA.DELETE_DOWNLOAD_HISTORY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:r.wA.DELETE_DOWNLOAD_HISTORY_FAILURE,payload:e}}(e))})).finally((function(){return n({type:r.wA.DELETE_DOWNLOAD_HISTORY_RESET})}))}}}}}]);
//# sourceMappingURL=301.522e61ab.chunk.js.map