"use strict";(self.webpackChunkequabli_front_end=self.webpackChunkequabli_front_end||[]).push([[622],{5622:function(e,l,n){n.r(l),n.d(l,{default:function(){return _}});var s=n(885),i=n(2791),a=n(2677),t=n(9743),d=n(3360),r=n(129),c=n(7022),o=n(6149),u=n(6030),m=n(9369),h=n(1338),p=n(758),x=n(2453),Z=function(e){return function(l){l({type:p.D.GET_ALL_CLIENTS_REQUEST}),x.Nf.getAllClients(e).then((function(e){l(function(e){return{type:p.D.GET_ALL_CLIENTS_SUCCESS,payload:e}}(e))}),(function(e){l({type:p.D.GET_ALL_CLIENTS_FAILURE})}))}},v=function(e){return function(l){l({type:p.iM.ADD_CLIENTS_REQUEST}),x.Nf.addClient(e).then((function(e){l(function(e){return{type:p.iM.ADD_CLIENTS_SUCCESS,payload:e}}(e))}),(function(e){l({type:p.iM.ADD_CLIENTS_FAILURE})})).finally((function(){return l({type:p.iM.ADD_CLIENTS_RESET})}))}},j=function(e){return function(l){l({type:p.N4.EDIT_CLIENTS_REQUEST}),x.Nf.editClient(e).then((function(e){l(function(e){return{type:p.N4.EDIT_CLIENTS_SUCCESS,payload:e}}(e))}),(function(e){l({type:p.N4.EDIT_CLIENTS_FAILURE})})).finally((function(){return l({type:p.N4.EDIT_CLIENTS_RESET})}))}},N=n(1679),C=n(2092),f=n(184),g=function(e){var l=e.onHide,n=e.show,u=e.data,m=e.dispatch,h=(0,i.useRef)(),p=(0,i.useState)({shortName:!1,fullName:!1,clientType:!1}),x=(0,s.Z)(p,2),Z=x[0],N=x[1],C=function(){var e=h.current,l=e.shortName,n=e.fullName,s=e.clientType,i=e.pocName,a=e.quickSiteId,t=e.isMasterserviced,d=e.emailAddress,r=e.address1,c=e.address2,o=e.city,p=e.zip,x=e.phone1,Z=e.phone2,C=e.website,f={clientId:(null===u||void 0===u?void 0:u.clientId)||null,shortName:(null===l||void 0===l?void 0:l.value)||null,fullName:(null===n||void 0===n?void 0:n.value)||null,clientType:(null===s||void 0===s?void 0:s.value)||null,pocName:(null===i||void 0===i?void 0:i.value)||null,quickSiteId:(null===a||void 0===a?void 0:a.value)||null,isMasterserviced:(null===t||void 0===t?void 0:t.checked)||!1,emailAddress:(null===d||void 0===d?void 0:d.value)||null,address1:(null===r||void 0===r?void 0:r.value)||null,address2:(null===c||void 0===c?void 0:c.value)||null,city:(null===o||void 0===o?void 0:o.value)||null,zip:(null===p||void 0===p?void 0:p.value)||null,phone1:(null===x||void 0===x?void 0:x.value)||null,phone2:(null===Z||void 0===Z?void 0:Z.value)||null,website:(null===C||void 0===C?void 0:C.value)||null};(function(e){var l={shortName:e.shortName,fullName:e.fullName,clientType:e.clientType},n=!0,s={shortName:!1,fullName:!1,clientType:!1};for(var i in l)l[i]&&""!==l[i]||(s[i]=!0);for(var a in s)s[a]&&(n=!1);return N(s),n})(f)&&m(u?j(f):v(f))};return(0,f.jsxs)(r.Z,{onHide:l,show:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"lg",animation:!0,children:[(0,f.jsx)(r.Z.Header,{closeButton:!0,children:(0,f.jsx)(r.Z.Title,{id:"contained-modal-title-vcenter",children:u?"Edit Client":"Add Client"})}),(0,f.jsx)(r.Z.Body,{className:"show-grid",children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(o.Z,{ref:h,children:(0,f.jsxs)(t.Z,{children:[(0,f.jsxs)(a.Z,{xs:12,md:6,className:"mt-3",children:[(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-4",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"shortName",defaultValue:(null===u||void 0===u?void 0:u.shortName)||null,maxLength:5})}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,f.jsx)("small",{children:Z.shortName?"Short Name is required ":""})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Short Name"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-4",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"fullName",defaultValue:(null===u||void 0===u?void 0:u.fullName)||null})}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,f.jsx)("small",{children:Z.fullName?"Full Name is required ":""})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Full Name"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-4",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"clientType",defaultValue:(null===u||void 0===u?void 0:u.clientType)||null})}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"1rem"},children:(0,f.jsx)("small",{children:Z.clientType?"Client Type is required ":""})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Client Type"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"pocName",defaultValue:(null===u||void 0===u?void 0:u.pocName)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Point Of Contact"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"quickSiteId",defaultValue:(null===u||void 0===u?void 0:u.quickSiteId)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"QuickSight ID"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,className:"mt-1",children:(0,f.jsx)("input",{type:"checkbox",className:"switch mt-2",name:"isMasterserviced",defaultChecked:null===u||void 0===u?void 0:u.isMasterserviced})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Master Serviced"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"emailAddress",defaultValue:(null===u||void 0===u?void 0:u.emailAddress)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Email Address"})]})})]}),(0,f.jsxs)(a.Z,{xs:12,md:6,className:"mt-3",children:[(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"address1",defaultValue:(null===u||void 0===u?void 0:u.address1)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Address 1"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"address2",defaultValue:(null===u||void 0===u?void 0:u.address2)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Address 2"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"city",defaultValue:(null===u||void 0===u?void 0:u.city)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"City"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"zip",defaultValue:(null===u||void 0===u?void 0:u.zip)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"ZIP Code"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"phone1",defaultValue:(null===u||void 0===u?void 0:u.phone1)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Primary Phone"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"phone2",defaultValue:(null===u||void 0===u?void 0:u.phone2)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Secondary Phone"})]})}),(0,f.jsx)(a.Z,{lg:12,md:6,className:"no_padding",children:(0,f.jsxs)(o.Z.Group,{as:a.Z,className:"mb-5",children:[(0,f.jsx)(a.Z,{md:12,sm:12,children:(0,f.jsx)(o.Z.Control,{type:"text",name:"website",defaultValue:(null===u||void 0===u?void 0:u.website)||null})}),(0,f.jsx)(o.Z.Label,{className:"label_custom white",children:"Website"})]})})]})]})})})}),(0,f.jsxs)(r.Z.Footer,{children:[(0,f.jsx)(d.Z,{variant:"dark",onClick:l,children:"Close"}),(0,f.jsx)(d.Z,{variant:"dark",onClick:function(){return C()},children:"Save"})]})]})},_=function(){var e=(0,u.I0)(),l=(0,C.e1)().addToast,n=(0,i.useState)("modifiedDate"),r=(0,s.Z)(n,2),c=r[0],o=r[1],p=(0,i.useState)("desc"),x=(0,s.Z)(p,2),v=x[0],j=x[1],_=(0,i.useState)(10),y=(0,s.Z)(_,2),b=y[0],S=y[1],E=(0,i.useState)(1),L=(0,s.Z)(E,2),T=L[0],I=L[1],w=(0,i.useState)(!1),A=(0,s.Z)(w,2),D=A[0],k=A[1],G=(0,i.useState)(null),V=(0,s.Z)(G,2),M=V[0],q=V[1],R=(0,u.v9)((function(e){return{clients:e.clients.data,error:e.clients.error,loading:e.clients.loading,totalCount:e.clients.totalCount,addClientSuccess:e.clients.addClientSuccess,addClientLoading:e.clients.addClientLoading,addClientError:e.clients.addClientError,editClientSuccess:e.clients.editClientSuccess,editClientLoading:e.clients.editClientLoading,editClientError:e.clients.editClientError,deactivateClientSuccess:e.clients.deactivateClientSuccess,deactivateClientLoading:e.clients.deactivateClientLoading,deactivateClientError:e.clients.deactivateClientError}})),U=R.clients,F=R.totalCount,P=(R.error,R.loading),z=R.addClientSuccess,Q=(R.addClientLoading,R.addClientError),H=R.editClientSuccess,B=(R.editClientLoading,R.editClientError),O=R.deactivateClientSuccess,W=(R.deactivateClientLoading,R.deactivateClientError);(0,i.useEffect)((function(){Y(b,T)}),[c,v]);var Y=function(l,n){e(Z({pageSize:l,pageNumber:n}))};return(0,i.useEffect)((function(){z&&(l((0,N.t)("success","added","Client"),{appearance:"success",autoDismiss:!0}),Y(b,T)),H&&(l((0,N.t)("success","edited","Client"),{appearance:"success",autoDismiss:!0}),Y(b,T)),O&&(l((0,N.t)("success","uploaded","Client"),{appearance:"success",autoDismiss:!0}),Y(b,T)),k(!1),q(null)}),[z,H,O]),(0,i.useEffect)((function(){Q&&l((0,N.t)("error","adding","Client"),{appearance:"error",autoDismiss:!1}),B&&l((0,N.t)("error","editing","Client"),{appearance:"error",autoDismiss:!1}),W&&l((0,N.t)("error","uploading","Client"),{appearance:"error",autoDismiss:!1})}),[Q,B,W]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(a.Z,{sm:12,children:[(0,f.jsxs)(t.Z,{style:{margin:0},sm:12,className:"form_container",children:[(0,f.jsx)(a.Z,{lg:3,sm:12}),(0,f.jsx)(a.Z,{lg:6,sm:12,children:(0,f.jsxs)("div",{className:h.Z.add_buttons,children:[(0,f.jsx)(d.Z,{variant:"dark",onClick:function(){return k(!0)},children:"Add Client"})," "]})}),(0,f.jsx)(a.Z,{lg:3,sm:12})]}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{})]}),(0,f.jsx)(a.Z,{children:(0,f.jsx)(m.Z,{data:U,isLoading:P,map:{clientId:"Client ID",shortName:"Short Name",fullName:"Full Name",clientType:"Client Type",emailAddress:"Email",quicksiteId:"Quicksite ID",isMasterserviced:"Master Serviced"},totalCount:F,actionArray:[],handleNavigate:function(){},currencyColumns:[],sortElement:function(e){return o(e)},sortType:function(e){return j(e)},currentPage:T,setCurrentPage:I,parentComponent:"clientSetup",searchCriteria:{},hideShareArray:["clientId","shortName","fullName","clientType","emailAddress","quicksiteId","isMasterserviced"],addEditArray:{editClient:function(e){k(!0),q(e)}},onPaginationChange:function(e,l){return function(e,l){S(e),Y(e,l)}(e,l)}})}),D&&(0,f.jsx)(g,{onHide:function(){k(!D),q(null)},show:D,data:M,dispatch:e})]})}},1338:function(e,l){l.Z={add_buttons:"Setup_add_buttons__6LYnV"}}}]);
//# sourceMappingURL=622.fcb64f42.chunk.js.map