(this["webpackJsonpequabli-front-end"]=this["webpackJsonpequabli-front-end"]||[]).push([[11],{266:function(e,n,t){e.exports={movement_group:"User_movement_group__hN-zZ",button_center:"User_button_center__jLzXE",search_input:"User_search_input__1yonV",search:"User_search__kQVRZ",advanceSearch:"User_advanceSearch__28VFr",my_document_search:"User_my_document_search__3qvbe",collapse_summary:"User_collapse_summary__2ZBSi",advance_search:"User_advance_search__3O2qV",required_documents:"User_required_documents__1ToGB"}},339:function(e,n,t){"use strict";t.r(n);var a=t(7),c=t.n(a),o=t(12),i=t(14),r=t(1),s=t(247),l=t(167),u=t(249),f=t(165),d=t(21),j=t(36),C=t(266),O=t.n(C),m=t(4),b=t(17),p=function(e){return function(n){n({type:m.i.CONJUNCTION_REQUEST}),b.d.getConfig({orgType:e.orgType,fileNameConfig:"SEPARATOR"}).then((function(e){n(function(e){return{type:m.i.CONJUNCTION_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.i.CONJUNCTION_FAILURE,payload:e}}(e))}))}},g=function(e){return function(n){n({type:m.w.FIELD_OPTIONS_REQUEST}),b.d.getConfig({orgType:e.orgType,fileNameConfig:"FIELD"}).then((function(e){n(function(e){return{type:m.w.FIELD_OPTIONS_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.w.FIELD_OPTIONS_FAILURE,payload:e}}(e))}))}},_=function(e){return function(n){n({type:m.I.RETENTION_POLICY_REQUEST}),b.d.getConfig({orgType:e.orgType,fileNameConfig:"RETENTION_POLICY"}).then((function(e){n(function(e){return{type:m.I.RETENTION_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.I.RETENTION_POLICY_FAILURE,payload:e}}(e))}))}},h=function(e){return function(n){n({type:m.q.DOCUMENT_POLICY_REQUEST}),b.d.getConfig({orgType:e.orgType,fileNameConfig:"DOCUMENT_POLICY"}).then((function(e){n(function(e){return{type:m.q.DOCUMENT_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.q.DOCUMENT_POLICY_FAILURE,payload:e}}(e))}))}},y=function(e){return function(n){n({type:m.S.USER_FILE_NAMING_CONFIG_REQUEST}),b.d.getUserConfig({orgType:e.orgType,fileNameConfig:"FIELD"}).then((function(e){n(function(e){return{type:m.S.USER_FILE_NAMING_CONFIG_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.S.USER_FILE_NAMING_CONFIG_FAILURE,payload:e}}(e))}))}},S=function(e){return function(n){n({type:m.T.USER_RETENTION_POLICY_REQUEST}),b.d.getUserConfig({orgType:e.orgType,fileNameConfig:"RETENTION_POLICY"}).then((function(e){n(function(e){return{type:m.T.USER_RETENTION_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.T.USER_RETENTION_POLICY_FAILURE,payload:e}}(e))}))}},E=function(e){return function(n){n({type:m.U.USER_SEPARATOR_REQUEST}),b.d.getUserConfig({orgType:e.orgType,fileNameConfig:"SEPARATOR"}).then((function(e){n(function(e){return{type:m.U.USER_SEPARATOR_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.U.USER_SEPARATOR_FAILURE,payload:e}}(e))}))}},T=function(e){return function(n){n({type:m.R.USER_DOCUMENT_POLICY_REQUEST}),b.d.getUserConfig({orgType:e.orgType,fileNameConfig:"DOCUMENT_POLICY"}).then((function(e){n(function(e){return{type:m.R.USER_DOCUMENT_POLICY_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.R.USER_DOCUMENT_POLICY_FAILURE,payload:e}}(e))}))}},N=function(e){return function(n){n({type:m.M.SAVE_USER_CONFIG_REQUEST}),b.d.saveUserConfiguration(e).then((function(e){n(function(e){return{type:m.M.SAVE_USER_CONFIG_SUCCESS,payload:e}}(e))}),(function(e){n(function(e){return{type:m.M.SAVE_USER_CONFIG_FAILURE,payload:e}}(e))})).finally((function(){return n({type:m.M.SAVE_USER_CONFIG_RESET})}))}},x=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(r.useRef)(document.title);Object(r.useEffect)((function(){document.title=e}),[e]),Object(r.useEffect)((function(){return function(){n||(document.title=t.current)}}),[])},v=t(32),R=t(129),U=t(40),I=t(2);n.default=function(){var e=["CAN","DT","PC"],n=["CAN","DT","CAN","PC"],t=Object(v.useToasts)().addToast;x("Document General Configuration");var a=Object(d.b)(),C=Object(r.useRef)(),m=Object(r.useRef)(),L=Object(r.useRef)(),P=Object(r.useRef)(),D=Object(r.useRef)(),F=Object(r.useState)("KBF"),A=Object(i.a)(F,2),k=A[0],V=A[1],w=Object(r.useState)([]),G=Object(i.a)(w,2),M=G[0],Y=G[1],q=Object(r.useState)(null),Q=Object(i.a)(q,2),B=Q[0],J=Q[1],K=Object(r.useState)({}),z=Object(i.a)(K,2),Z=z[0],X=z[1],H=Object(r.useState)([{keycode:"KBF",keyvalue:"Keep Both Files"},{keycode:"RE",keyvalue:"Replace Existing"}]),W=Object(i.a)(H,2),$=W[0],ee=(W[1],Object(r.useState)(60)),ne=Object(i.a)(ee,2),te=ne[0],ae=ne[1],ce=Object(d.c)((function(e){return{dataConjunction:e.fileNameConfig.conjunction.data,isLoading:e.fileNameConfig.conjunction.loading,dataFieldOptions:e.fileNameConfig.fieldOptions.data,dataFileNamingConfig:e.fileNameConfig.fileNamingConfig.data,dataUserRetentionPolicy:e.fileNameConfig.userRetentionPolicy.data,isLoadingRetention:e.fileNameConfig.userRetentionPolicy.loading,dataUserConjunction:e.fileNameConfig.userConjunction.data,dataUserDocumentPolicy:e.fileNameConfig.userDocumentPolicy.data,isLoadingDocumentPolicy:e.fileNameConfig.userDocumentPolicy.loading,dataRetentionPolicy:e.fileNameConfig.retentionPolicy.data,dataDocumentPolicy:e.fileNameConfig.documentPolicy.data,saveLoading:e.fileNameConfig.saveConfig.loading,saveSuccess:e.fileNameConfig.saveConfig.success,saveError:e.fileNameConfig.saveConfig.error}})),oe=ce.dataConjunction,ie=ce.isLoading,re=ce.dataFieldOptions,se=ce.dataFileNamingConfig,le=ce.dataUserRetentionPolicy,ue=ce.isLoadingRetention,fe=ce.dataUserConjunction,de=ce.dataRetentionPolicy,je=(ce.dataDocumentPolicy,ce.dataUserDocumentPolicy),Ce=ce.isLoadingDocumentPolicy,Oe=(ce.saveLoading,ce.saveSuccess),me=ce.saveError;Object(r.useEffect)((function(){le&&ae(le?le.configValSelectedCode:de.defaultValue),je&&V(je?je.configValSelectedCode:"KBF")}),[le,je]),Object(r.useEffect)((function(){var e=b.k.getUser();J(e.recordSource);var n={};n="Client"===e.recordSource||"Equabli"===e.recordSource?{1:"CAN",2:"DT",3:"PC",4:null,5:null,6:null}:{1:"CID",2:"DT",3:"CAN",4:"PC",5:null,6:null,7:null},X(n),a(y({orgType:"CT"})),a(g({orgType:"CT"})),a(p({orgType:"CT"})),a(h({orgType:"CT"})),a(_({orgType:"CT"})),a(S({orgType:"CT"})),a(E({orgType:"CT"})),a(T({orgType:"CT"}))}),[]),Object(r.useEffect)((function(){re.length>0&&be()}),[re,se]),Object(r.useEffect)((function(){Oe&&t(Object(R.a)("","FILE_NAME_CONFIGURATION_SAVED_SUCCESS",""),{appearance:"success",autoDismiss:!0}),me&&t(Object(R.a)("error","User Configuration","Save"),{appearance:"error",autoDismiss:!1})}),[Oe,me]);var be=function(){var e=Object(o.a)(c.a.mark((function e(){var n,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.d.handleDefaultAndSavedSelection(re,se,B,Z);case 2:n=e.sent,t=n.fieldFinal,a=n.selectionFinal,Y(t),X(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(o.a)(c.a.mark((function e(n,t){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.assign({},Z),o=null,"down"===t?(o=a[n],a[n]=a[n+1],a[n+1]=o):(o=a[n],a[n]=a[n-1],a[n-1]=o),X(a);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ge=function(e,n){e.preventDefault();var t=[];if("config"===n){var c=C.current,o=c.conjunction,i=c.field_1,r=c.field_2,s=c.field_3,l=c.field_4,u=c.field_5,f=c.field_6;t.push({configShortCode:"SEPARATOR",configValShortCode:o.value,orgTypeCode:"CT"}),i.value&&t.push({configShortCode:"field1",configValShortCode:i.value,orgTypeCode:"CT"}),r.value&&t.push({configShortCode:"field2",configValShortCode:r.value,orgTypeCode:"CT"}),s.value&&t.push({configShortCode:"field3",configValShortCode:s.value,orgTypeCode:"CT"}),l.value&&t.push({configShortCode:"field4",configValShortCode:l.value,orgTypeCode:"CT"}),u.value&&t.push({configShortCode:"field5",configValShortCode:u.value,orgTypeCode:"CT"}),f.value&&t.push({configShortCode:"field6",configValShortCode:f.value,orgTypeCode:"CT"})}else if("retention"===n){var d=m.current.retention_policy;console.log(d.value),t.push({configShortCode:"RP",configValShortCode:d.value,orgTypeCode:"CT"})}else"mode"===n&&t.push({configShortCode:"DP",configValShortCode:k,orgTypeCode:"CT"});a(N(t))},_e=function(){var e=Object(o.a)(c.a.mark((function e(n,t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"config"===t?(a={},a="Client"===B||"Equabli"===B?{1:"CAN",2:"DT",3:"PC",4:null,5:null,6:null}:{1:"CID",2:"DT",3:"CAN",4:"PC",5:null,6:null,7:null},C.current.conjunction.value="_",setTimeout(Object(o.a)(c.a.mark((function e(){var n,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.current.click(),X(a),n=Object.values(a),t=M.map((function(e){return-1===n.indexOf(e.shortCode)&&(e.selected=!1,e.available=!0),e})),Y(t);case 5:case"end":return e.stop()}}),e)}))),100)):"retention"===t?(ae(60),setTimeout((function(){P.current.click()}),0)):"mode"===t&&(V("KBF"),setTimeout((function(){D.current.click()}),0));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),he=function(t){var a=!1;return"Client"!==B&&"Equabli"!==B||-1===e.indexOf(t)?-1!==n.indexOf(t)&&(a=!0):a=!0,a};return Object(I.jsxs)(I.Fragment,{children:[ie&&Object(I.jsx)(U.d,{className:"spinner",size:50}),!ie&&Object(I.jsxs)(s.a,{style:{margin:0},className:"form_container",children:[Object(I.jsx)(l.a,{sm:3}),Object(I.jsxs)(l.a,{sm:6,children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{sm:12,children:Object(I.jsx)("h5",{style:{marginLeft:"1rem"},children:"File Name Configuration"})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)(u.a,{ref:C,onSubmit:function(e){return ge(e,"config")},children:["{}"!==JSON.stringify(fe)&&Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{lg:12,md:6,className:"no_padding",children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-5",children:[Object(I.jsx)(l.a,{md:12,sm:12,children:Object(I.jsx)(u.a.Control,{as:"select",name:"conjunction",defaultValue:fe?fe.configValSelectedCode:oe.defaultValue,className:"select_custom",children:oe&&oe.configVals&&oe.configVals.length>0&&oe.configVals.map((function(e,n){return Object(I.jsx)("option",{value:e.shortCode,children:e.fieldValue},"cr_".concat(n))}))})}),Object(I.jsx)(u.a.Label,{className:"label_custom",children:"Conjunction / Concatenation Parameter"})]})})}),Z&&Object.keys(Z).map((function(e,n){return Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{lg:12,md:6,className:"no_padding",children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-5",children:[Object(I.jsx)(l.a,{md:12,sm:12,children:Object(I.jsxs)(u.a.Control,{as:"select",name:"field_".concat(n+1),className:"select_custom",disabled:he(Z[e]),onChange:function(e){return function(e,n){var t=Object.assign({},Z);t[e]=n;var a=Object.values(t),c=M.map((function(c){return n===c.shortCode&&(c.available=!1),n||t[e]!==c.shortCode||(c.available=!0),-1===a.indexOf(c.shortCode)&&(c.selected=!1,c.available=!0),c}));Y(c),X(t)}(n+1,e.target.value)},value:Z[e]||"",children:[!Z[Number(e)+1]&&Object(I.jsx)("option",{}),M&&M.length>0&&M.map((function(e,n){return Object(I.jsx)("option",{disabled:!e.available,value:e.shortCode,children:e.fieldValue},"cr_".concat(n))}))]})}),Object(I.jsxs)(u.a.Label,{className:"label_custom",children:["Field ",n+1," "]}),Object(I.jsxs)("div",{className:O.a.movement_group,children:[0!==n&&Z[e]&&Object(I.jsx)(j.b,{onClick:function(){return pe(n+1,"up")}}),n!==Object.keys(Z).length-1&&Z[e]&&Z[Number(e)+1]&&Object(I.jsx)(j.a,{onClick:function(){return pe(n+1,"down")}})]})]})})},"options_".concat(n))})),Object(I.jsxs)(l.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:L,type:"submit",children:"Save"})," ",Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return _e(e,"config")},children:"Reset to Default"})]})]})]}),Object(I.jsx)(l.a,{sm:3})]}),Object(I.jsx)("br",{}),("Client"===B||"Equabli"===B)&&Object(I.jsxs)(I.Fragment,{children:[!ue&&Object(I.jsxs)(s.a,{style:{margin:0},className:"form_container",children:[Object(I.jsx)(l.a,{sm:3}),Object(I.jsxs)(l.a,{sm:6,children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{sm:12,children:Object(I.jsx)("h5",{style:{marginLeft:"1rem"},children:"Document Retention Policy"})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{ref:m,onSubmit:function(e){return ge(e,"retention")},children:Object(I.jsxs)(s.a,{children:[Object(I.jsx)(l.a,{lg:12,md:6,children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-4",children:[Object(I.jsxs)(s.a,{children:[Object(I.jsx)(l.a,{md:11,sm:11,children:Object(I.jsx)(u.a.Control,{className:"select_custom",type:"number",name:"retention_policy",onChange:function(e){return ae(e.target.value)},value:te})}),Object(I.jsx)(l.a,{md:1,style:{display:"flex",alignItems:"center"},children:Object(I.jsx)("p",{style:{margin:0},children:"Days"})})]}),Object(I.jsx)(u.a.Label,{className:"label_custom",style:{left:"10px"},children:"Retain document after closure of account till"})]})}),Object(I.jsxs)(l.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:P,type:"submit",children:"Save"})," ",Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return _e(e,"retention")},children:"Reset to Default"})]})]})})]}),Object(I.jsx)(l.a,{sm:3})]}),Object(I.jsx)("br",{}),!Ce&&Object(I.jsxs)(s.a,{style:{margin:0},className:"form_container",children:[Object(I.jsx)(l.a,{sm:3}),Object(I.jsxs)(l.a,{sm:6,children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{sm:12,children:Object(I.jsx)("h5",{style:{marginLeft:"1rem"},children:"Other Configuration"})})}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(u.a,{onSubmit:function(e){return ge(e,"mode")},children:Object(I.jsxs)(s.a,{children:[Object(I.jsx)(l.a,{lg:12,md:6,children:Object(I.jsxs)(u.a.Group,{as:l.a,className:"mb-4",children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(l.a,{md:12,sm:12,children:$&&$.map((function(e,n){return Object(I.jsx)(u.a.Check,{inline:!0,type:"radio",onChange:function(e){V(e.target.value)},checked:e.keycode==k,value:e.keycode,name:"mode",label:e.keyvalue},"default-".concat(n))}))})}),Object(I.jsx)(u.a.Label,{className:"label_custom",style:{left:"10px"},children:"Incase of Document Duplication"})]})}),Object(I.jsxs)(l.a,{sm:12,style:{marginLeft:"1rem"},children:[Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},ref:D,type:"submit",children:"Save"})," ",Object(I.jsx)(f.a,{variant:"dark",style:{width:"140px"},onClick:function(e){return _e(e,"mode")},children:"Reset to Default"})]})]})})]}),Object(I.jsx)(l.a,{sm:3})]})]})]})}}}]);
//# sourceMappingURL=11.8a84c26b.chunk.js.map