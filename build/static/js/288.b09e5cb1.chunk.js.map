{"version":3,"file":"static/js/288.b09e5cb1.chunk.js","mappings":"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","sources":["containers/DocumentManager/SummaryDrillDownHave.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport Styles from \"./DocumentManager.module.sass\";\r\nimport TableComponent from \"../../components/Table/Table\";\r\nimport { MyDocumentsActionCreator } from \"../../store/actions/myDocuments.actions\";\r\nimport ViewDocument from \"../../components/modal/ViewDocument\";\r\nimport AdvanceSearch from \"../../components/Common/AdvanceSearch\";\r\nimport { SummaryActionCreator } from \"../../store/actions/summary.actions\";\r\nimport AdvanceSearchHook from \"../../components/CustomHooks/AdvanceSearchHook\";\r\nimport { MiscActionCreator } from \"../../store/actions/common/misc.actions\";\r\n\r\nconst SummaryDrillDownHave = ({ location }: { location: any }) => {\r\n    const dispatch = useDispatch();\r\n    const params = location.search.replace(\"?\", \"\");\r\n    const searchParams = JSON.parse('{\"' + decodeURI(params).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}')\r\n    const [showAdvanceSearch, setShowAdvanceSearch] = useState(false);\r\n    const [sortElement, setSortElement] = useState('uploadDate')\r\n    const [sortType, setSortType] = useState('desc');\r\n    const [pageSize, setPageSize] = useState(10)\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [showDocument, setShowDocument] = useState(false)\r\n    const [documentToShow, setDocumentToShow] = useState(null);\r\n    const [columnsSaved, setColumnsSaved] = useState<any>([]);\r\n    let [searchObj, { setInitObj, textSearch, advanceSearch, resetHandler }] = AdvanceSearchHook()\r\n\r\n    const {\r\n        documents,\r\n        totalCount,\r\n        error,\r\n        columns,\r\n        loading,\r\n        defaultColumns\r\n    } = useSelector((state: any) => ({\r\n        documents: state.summary.summaryDocuments.data,\r\n        totalCount: state.summary.summaryDocuments.totalCount,\r\n        error: state.summary.summaryDocuments.error,\r\n        columns: state.summary.summaryDocuments.columns,\r\n        loading: state.summary.summaryDocuments.loading,\r\n        defaultColumns: state.misc.allTableColumns.data\r\n    }))\r\n\r\n    useEffect(() => {\r\n        setInitObj({\r\n            pageSize: pageSize,\r\n            pageNumber: pageNumber,\r\n            textSearch: null,\r\n            sortOrder: sortType,\r\n            sortParam: sortElement\r\n        })\r\n        dispatch(MiscActionCreator.getColumnForAllTables('accounts'))\r\n        return () => {\r\n            dispatch(MyDocumentsActionCreator.resetDocumentList())\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (searchObj !== null) {\r\n            search(pageSize, pageNumber)\r\n        }\r\n    }, [searchObj, sortElement, sortType])\r\n\r\n    useEffect(() => {\r\n        if (!loading && columns.length === 0 && (defaultColumns && defaultColumns.length > 0)) {\r\n            setColumnsSaved(defaultColumns)\r\n        } else {\r\n            setColumnsSaved(columns)\r\n        }\r\n    }, [columns])\r\n\r\n    const search = (\r\n        pageSize: any,\r\n        pageNumber: any\r\n    ) => {\r\n        searchObj = {\r\n            ...searchObj, pageSize, pageNumber, sortParam: sortElement, sortOrder: sortType, ...searchParams\r\n        }\r\n        dispatch(SummaryActionCreator.getSummaryDrillDown(searchObj))\r\n        setShowAdvanceSearch(false)\r\n    }\r\n\r\n    /**\r\n     * function is used in pagination\r\n     * @param pageSize \r\n     * @param pageNumber \r\n    */\r\n    const handlePagination = (pageSize: number, pageNumber: number) => {\r\n        setPageSize(pageSize)\r\n        search(pageSize, pageNumber)\r\n    }\r\n\r\n    return (<>\r\n        <Col sm={12}>\r\n            <Row>\r\n                <AdvanceSearch\r\n                    parentComponent={'documentSummary'}\r\n                    Styles={Styles}\r\n                    showAdvanceSearch={showAdvanceSearch}\r\n                    setShowAdvanceSearch={(flag: any) => setShowAdvanceSearch(flag)}\r\n                    textSearchHook={textSearch}\r\n                    searchObj={searchObj}\r\n                    advanceSearchHook={advanceSearch}\r\n                    resetHandlerHook={resetHandler}\r\n                />\r\n            </Row>\r\n            <br />\r\n        </Col>\r\n        <Col>\r\n            <TableComponent\r\n                data={documents}\r\n                isLoading={loading}\r\n                map={{\r\n                    clientAccountNumber: \"Client Account Number\",\r\n                    originalAccountNumber: \"Original Account Number\",\r\n                    equabliAccountNumber: \"Equabli Account Number\",\r\n                    documentName: \"File Name\",\r\n                    generateDate: \"Generation Date\",\r\n                    uploadDate: \"Upload Date\",\r\n                    fileSize: \"File Size\",\r\n                    sharedBy: \"Shared By\",\r\n                }}\r\n                totalCount={totalCount}\r\n                actionArray={['documentName']}\r\n                handleNavigate={(data: any) => {\r\n                    setShowDocument(true)\r\n                    setDocumentToShow(data)\r\n                }}\r\n                currencyColumns={[]}\r\n                sortElement={(header: any) => setSortElement(header)}\r\n                sortType={(type: any) => setSortType(type)}\r\n                currentPage={pageNumber}\r\n                setCurrentPage={setPageNumber}\r\n                parentComponent={'documentSummary'}\r\n                searchCriteria={{}}\r\n                hideShareArray={columnsSaved}\r\n                addEditArray={\r\n                    {\r\n                        download: (data: any) => console.log(data),\r\n                    }\r\n                }\r\n                handleDocumentManagerSummary={searchParams}\r\n                onPaginationChange={(\r\n                    pageSize: number, pageNumber: number\r\n                ) => handlePagination(pageSize, pageNumber)}\r\n            ></TableComponent>\r\n        </Col>\r\n        {\r\n            showDocument &&\r\n            <ViewDocument show={showDocument} onHide={() => setShowDocument(false)} documentData={documentToShow} />\r\n        }\r\n    </>)\r\n}\r\n\r\nexport default SummaryDrillDownHave"],"names":["_ref","location","dispatch","useDispatch","params","search","replace","searchParams","JSON","parse","decodeURI","_useState","useState","_useState2","_slicedToArray","showAdvanceSearch","setShowAdvanceSearch","_useState3","_useState4","sortElement","setSortElement","_useState5","_useState6","sortType","setSortType","_useState7","_useState8","pageSize","setPageSize","_useState9","_useState10","pageNumber","setPageNumber","_useState11","_useState12","showDocument","setShowDocument","_useState13","_useState14","documentToShow","setDocumentToShow","_useState15","_useState16","columnsSaved","setColumnsSaved","_AdvanceSearchHook","AdvanceSearchHook","_AdvanceSearchHook2","searchObj","_AdvanceSearchHook2$","setInitObj","textSearch","advanceSearch","resetHandler","_useSelector","useSelector","state","documents","summary","summaryDocuments","data","totalCount","error","columns","loading","defaultColumns","misc","allTableColumns","useEffect","sortOrder","sortParam","MiscActionCreator","getColumnForAllTables","MyDocumentsActionCreator","resetDocumentList","length","_objectSpread","SummaryActionCreator","getSummaryDrillDown","_jsxs","_Fragment","children","Col","sm","_jsx","Row","AdvanceSearch","parentComponent","Styles","flag","textSearchHook","advanceSearchHook","resetHandlerHook","TableComponent","isLoading","map","clientAccountNumber","originalAccountNumber","equabliAccountNumber","documentName","generateDate","uploadDate","fileSize","sharedBy","actionArray","handleNavigate","currencyColumns","header","type","currentPage","setCurrentPage","searchCriteria","hideShareArray","addEditArray","download","console","log","handleDocumentManagerSummary","onPaginationChange","handlePagination","ViewDocument","show","onHide","documentData"],"sourceRoot":""}